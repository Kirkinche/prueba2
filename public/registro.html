<!doctype html>
<html> 
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>JM MORENO SpA</title>
	<!--The following script tag downloads a font from the Adobe Edge Web Fonts server for use within the web page. We recommend that you do not modify it.--><script>var __adobewebfontsappname__="dreamweaver"</script><script src="https://use.edgefonts.net/cuprum:n4:default;cardo:n4:default;cantata-one:n4:default.js" type="text/javascript"></script>

<link href="css/templateglobaljm.css" rel="stylesheet" type="text/css">
<link href="css/estiloregistro2.css" rel="stylesheet" type="text/css">
<style type="text/css">
</style>
<link href="css/estiloappusuario.css" rel="stylesheet" type="text/css">
<link href="css/estiloappadmin.css" rel="stylesheet" type="text/css">
</head>
<body>
<div class="container">
<header class="headermenu">
 <iframe class="cuadromenu" src="Menusuperior.html" align="middle"> </iframe>
</header>
	
<main class="contenidousuario">	
	<div id="panelaccesofuera" class="panelprincipal">
	  <!-- Header section containing title -->
  			<header class="encabezadoingreso">
    <div class="accesocuenta">
      <div class="tituloingreso">
		  <a href="/registro.html"><h3>¡Regístrese para poder programar sus requerimientos o ingrese directamente a su cuenta!</h3></a>
		</div>
    </div>
  </header>
 			 <section class="mdl-layout__content mdl-color--grey-100">
  			  <div class="accesocuenta">

      <!-- Container for the demo -->
      <div class="mdl-card mdl-shadow--2dp mdl-cell mdl-cell--12-col mdl-cell--12-col-tablet mdl-cell--12-col-desktop">
        <div class="mdl-card__title mdl-color--light-blue-600 mdl-color-text--white">
          <h2 class="mdl-card__title-text"> Autentificación por correo electrónico &amp; clave secreta</h2>
        </div>
        <div class="mdl-card__supporting-text mdl-color-text--grey-600">
          <p>Ingrese su correo electrónico y clave secreta para ingresar a una cuenta existente o crear una nueva cuenta</p>

          <input class="mdl-textfield__input" style="display:inline;width:auto;" type="text" id="email" name="email" placeholder="Correo electrónico"/>
          &nbsp;&nbsp;&nbsp;
          <input class="mdl-textfield__input" style="display:inline;width:auto;" type="password" id="password" name="password" placeholder="Clave secreta"/>
          <br/><br/>
          <button disabled class="mdl-button mdl-js-button mdl-button--raised" id="quickstart-sign-in" name="signin">Ingrese</button>
          &nbsp;&nbsp;&nbsp;
          <button class="mdl-button mdl-js-button mdl-button--raised" id="quickstart-sign-up" name="signup">Crear cuenta nueva</button>
          &nbsp;&nbsp;&nbsp;
          <button class="mdl-button mdl-js-button mdl-button--raised" disabled id="quickstart-verify-email" name="verify-email">Enviar correo de verificación</button>
          &nbsp;&nbsp;&nbsp;
          <button class="mdl-button mdl-js-button mdl-button--raised" id="quickstart-password-reset" name="verify-email">Enviar correo de reseteo de clave secreta</button>
			
          <!-- Container where we'll display the user details -->
          <div class="quickstart-user-details-container">
            Estado de acceso con Firebase: <span id="quickstart-sign-in-status">Unknown</span>
            <div>Autentificación por Firebase <code>currentUser</code> valor de objeto:</div>
            <pre><code id="quickstart-account-details">null</code></pre>
          </div>
      				  </div>
     			 </div>
   			 </div>
  			</section>
		</div>
	
	
	<div id="panelaccesodentro">
			<div id="panelgeneral">
				<section id="panelcontrol">
				<input class="botonsimple" type="button" onClick="despliegedatosusuariofrom()" value="Completar datos" id="botondatos"/>
				<img alt="logo de cliente" src="images/fondolindo1500-1000.jpg" class="thumbnail thumbnail_align" id="logocliente">
					<aside id="datosusuario"> <h1> Panel de control de usuario</h1> <p id="nombreusuariopanel"></p><p id="organizacionusuariopanel"> </p><p id="cargousuariopanel"> </p> <p id="correousuariopanel"></p>					
					</aside>
				<button onClick="salirdelsistema()" class="signout" name="signout" >Salir del sistema</button>
				<div  id="franja1">
				<!-- cambiar el intercambio de indicaciones con un intercambio de imágenes con animación.-->
						<section id="panelboton1" class="panelboton">
										<ul><strong> Indicaciones para el uso de la mensajería:</strong>
												<li>Puedes seleccionar varios archivos al mismo tiempo para adjuntarlos a tu mensaje.</li>
												<li>Puedes intercambiar de panel entre la mensajería, las reuniones, los requerimientos y los archivos sin perder la información ingresada.</li>
												<li>El contenido ingresado se borra si cierras el panel con el botón de cierre en la esquina superior derecha.</li>
												  </ul>
					</section>
					<section id="panelboton2" class="panelboton">
										<ul> <strong> Indicaciones para concertar reuniones:</strong>
		<li>Utilizamos este formulario para concertar una reunión por videoconferencia.</li>
		<li>Agrega los correos electrónicos de los participantes que deseas incluir invitados.</li>
		<li>Puedes intercambiar de panel entre la mensajería, las reuniones, los requerimientos y los archivos sin perder la información ingresada.</li>
		<li>El contenido ingresado se borra si cierras el panel con el botón de cierre en la esquina superior derecha.</li>
	  </ul>
					</section>
					<section id="panelboton3" class="panelboton">
										<ul> Listado de ejemplo 3:
		<li>1</li>
		<li>2</li>
		<li>3</li>
		<li>4</li>
		<li>5</li>
	  </ul>
					</section>
					<section id="panelboton4" class="panelboton">
										<ul> Listado de ejemplo 4:
		<li>1</li>
		<li>2</li>
		<li>3</li>
		<li>4</li>
		<li>5</li>
		 </ul>
					</section>				
					</div>
								
					
					<!-- a continuación se disponen los botones de control, se debe incluir luego la función para cada panel correspondiente-->
					<section id="botoneracontrol">
						
					<div class="filaboton">
						<div class="columna"><input type="button" value="Mensajería" class="botoncontrol" id="botonmensajeria" onClick="desplieguemsj()"/>
						</div>
						<div class="columna"><input type="button" value="Reuniones" class="botoncontrol" id="botonreuniones" onClick="desplieguereuniones()"/>
						</div>
					</div>
					<div class="filaboton">
						<div class="columna"><input type="button" value="Requerimientos" class="botoncontrol" id="botonrequerimientos" onClick="desplieguerequerimientos()"/>
						</div>
						<div class="columna"><input type="button" value="Archivos" class="botoncontrol" id="botonarchivos" onClick="desplieguearchivos()"/>
						</div>
					</div>
						</section>
					
			<footer id="botonesinferior"></footer>
				</section>
				<!-- Es el panellateral que se desplazará al activar los botones de control en el script-->
				<aside id="panellateral">
				<div id="panelpublicitario">	
				<div id="panelbienvenido" class="paneldesplegado"><strong>¡Bienvenido!</strong> <p>Puedes utilizar esta plataforma para comunicarte, concertar reuniones, ingresar tus requerimientos y consultar todos los registros junto con todos los documentos relacionados a estos. Si prefieres, podemos relacionarnos por correo electrónico y actualizaremos tu cuenta para que puedas consultar igualmente los registros y archivos relacionados. Para eso comúnicate al email: <a class="emailjm" href="mailto:jm@jmmorenospa.com">jm@jmmorenospa.com</a></p></div>
					
				</div>
					<div id="panelagradecimiento" class="paneldesplegado" >
						<input type="button" onClick="cierrepanelagradecimiento()" class="botoncierre" value="x"/><h1>¡Gracias!</h1>
						<strong>Tus indicaciones han sido registradas, gracias por confiar en nosotros. Pronto nos comunicaremos contigo. Por mientras, puedes consultar tus registros y documentos en la sección de Archivos.</strong>
					</div>
				  <div id="paneldatosusuario" class="paneldesplegado">
						<input type="button" onClick="cierrepaneldatosusario()" class="botoncierre" value="x"/>
						<form class="formulario" id="datosusuarioform" action="javascript:datosusuariosubmit(this)" method="post">
					      <h1>Por favor completa tus datos de usuario</h1> 
						  <label for="nombreusuario">Nombre de usuario:</label>
					      <input type="text" class="form-control" id="nombreusuario" name="nombreusuario"/><br>
						<label for="organizacionusuario">Nombre de tu organización:</label>
					      <input type="text" class="form-control" id="organizacionusuario" name="organizacionusuario"/><br>
							<label for="cargousuario">Cargo en tu organización:</label>
					      <input type="text" class="form-control" id="cargousuario" name="cargousuario"/><br><br>
						  <label for="enviardatosusuarios"> Confirma tu envío: </label>
						<input type="submit" id="enviardatosusuarios"><br>
					  </form>
					</div>
				  <div id="panelmensajeria" class="paneldesplegado">
					  <input type="button" onClick="cierrepanelmsj()" class="botoncierre" value="x"/>
					  <form class="formulario" id="mensajeria" action="javascript:mensajeriasubmit(this)" method="post">
					      <h1>Mensajería abierta para resolver tus dudas y responder tus consultas</h1> 
						  <label for="refclientemensajeria">Puedes incluir tu referencia: </label>
						  <input type="text" id="refclientemensajeria" name="refclientemensajeria"><br>
						  <label for="mensajeusuario">Escribe tu mensaje a continuación:</label>
					      <textarea class="form-control" id="mensajeusuario" rows="6" name="mensajeusuario"></textarea><br>
						  <label for="file"> Tus archivos:  </label>
						<input type="file" multiple name="file" id="file" onchange="javascript:updateList()">
								<p>Archivos seleccionados:</p>
								<div id="fileList"></div>
						  <label for="enviarmsj"> Confirma tu envío: </label>
						<input type="submit" id="enviarmsj"><br>
					  </form>
				  </div>
				  <div id="panelreuniones" class="paneldesplegado">
				      <input type="button" onClick="cierrepanelreuniones()" class="botoncierre" value="x">
					  <h1>Solicita una sesión de videoconferencia:</h1>
						<form class="formulario" id="reuniones" action="javascript:reunionessubmit(this)" method="post">
							<label for="refclientereuniones">Puedes incluir tu referencia: </label>
						 	<input type="text" id="refclientereuniones" name="refclientereuniones"><br>
							<label for="fechareunion">Elije una fecha y hora (GMT-4: Santiago de Chile):</label>
							<input type="datetime-local" name="fechareunion" id="fechareunion" required><br><br>
							<label for="mensajereunion">Puedes agregar algún comentario en tu solicitud:</label>
					      	<textarea class="form-control" id="mensajereunion" rows="6" name="mensajereunion"></textarea>
						   Selecciona una opción: <br>
								  	<small><input type="radio" id="invitausuario" name="invitador" value="invitausuario" checked>
								  	<label for="invitausuario">Tu te encargas de invitar y administrar la sesión de videoconferencia.</label><br>
									<input type="radio" id="invitalocal" name="invitador" value="invitalocal">
  									<label for="invitalocal">Nosotros te enviamos las invitaciones para la sesión de videoconferencia. </label><br>
									</small><br>
						  <div id="participantesadicionales">
									<label for="participante1">Indica el correo electrónico de los participantes que desees agregar a la sesión:</label><br>
									<input type="email" name="participante1" id="participante1" class="participante" required> 
  						
							<div id="emailList"></div></div>
							 <input type="button" id="agregaemail" class="agregador" onClick="agregaparticipante()" value="+"><small><span> Agrega más participantes</span></small><br>
  						Confirme su solicitud de reunión:
							<label for="solicitareunion">  </label>
						<input type="submit" id="solicitareunion"><br>
							<input type="text" id="cantidadparticipante" hidden>
						</form>
						<!-- ver opción de crear sesiones con meet: accediente al siguiente link: url: http://meet.google.com/new o con /hangout-->
						
					
					</div>
				  <div id="panelrequerimientos" class="paneldesplegado">
						 <input type="button" onClick="cierrepanelrequerimientos()" class="botoncierre" value="x"/>
							<h1>Programa tu requerimiento</h1>
						
							<table class="tablarequerimientos" id="requerimientos">
								<thead>
									<tr>
										<th>En tramitación de expedientes:</th>
										<th>Protección de su propiedad industrial:</th>
										<th>Análisis de activos:</th>
									</tr>
								</thead>
								<tbody>
									<tr class="filareq">
										<td class="celda" onClick="nuevatraduccion()" id="traduccion">Traducción de documento de patentes</td>
										<td class="celda" onClick="nuevabusqueda()" id="busqueda">Búsqueda del estado del arte y estudios de patentabilidad</td>
										<td class="celda" onClick="nuevaestudioinfraccion()" id="estudioinfraccion">Estudios de infracción</td>
									</tr>
									<tr class="filareq">
										<td class="celda" onClick="nuevainformepericial()" id="informepericial">Análisis de informes periciales</td>
										<td class="celda" onClick="nuevaredaccion()" id="redaccion">Redacción de patentes de invención, modelos de utilidad o Diseños industriales</td>
										<td class="celda" onClick="nuevaelo()" id="elo">Estudios de Libertad de Operación</td>
									</tr>
									<tr class="filareq">
										<td class="celda" onClick="nuevarespuestapericial()" id="respuesta">Respuesta a informe periciales</td>
										<td class="celda" onClick="nuevarevision()" id="revision">Revisión y corrección de pliegos de reivindicaciones</td>
										<td class="celda" onClick="nuevanulidad()" id="nulidad">Documentos para oposición o nulidad de patente</td>
									</tr>
								</tbody>
							</table>
								<form id="formulariotraduccion" class="formulario" action="javascript:reqtraduccionsubmit(this);">
																<label for="refclientetraduccion">Puedes incluir tu referencia: </label>
															  	<input type="text" id="refclientetraduccion" name="refclientetraduccion"><br>
																<label for="filetraduccion"> Agregua los documentos que deseas traducir (puedes seleccionar varios archivos simultáneamente): </label>
																<input type="file" multiple name="filetraduccion" id="filetraduccion" onchange="javascript:updateListtraduccion()" required>
																		<p>Archivos seleccionados:</p>
																			<div id="fileListtraduccion"></div>
																<label for="fechatraduccion">Elije una fecha para el plazo de entrega de la traducción:</label>
																<input type="date" name="fechatraduccion" id="fechatraduccion" required><br><br>
																Selecciona el idioma al cual deseas traducir: <br>
																<input type="radio" id="espanol" name="idioma" value="espanol" >
																<label for="espanol">Español</label><br>
																<input type="radio" id="ingles" name="idioma" value="ingles" checked>
																<label for="ingles">Inglés</label><br>
																<input type="radio" id="frances" name="idioma" value="frances">
																<label for="frances">Francés </label><br>
																<label for="cotizatraduccion">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																<input type="checkbox" name="cotizatraduccion" id="cotizatraduccion"> <br>
																<label for="mensajetraduccion" class="formulariotexto">Agrega algún comentario, también puedes solicitar que nosotros conigamos el documento en base a su identificación con número de solicitud y/o detalle:</label>
																<textarea class="form-control" id="mensajetraduccion" rows="6" name="mensajetraduccion"></textarea><br>
																<label for="enviartraduccion"> Confirme su envío: </label>
																<input type="submit" id="enviartraduccion">
																<input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/>
																<br>

													  </form>		
								<form id="formularioinformepericial" class="formulario" action="javascript:reqinformepericialsubmit(this);">
																	<label for="refclienteinformepericial">Puedes incluir tu referencia: </label>
															  		<input type="text" id="refclienteinformepericial" name="refclienteinformepericial"><br>
																	<p class="formulariotexto">Se analisa el informe pericial entregando un documento que identifica las objeciones, sugerencias y consideraciones pertinentes para un titular. También se ajusta al formato necesario según las preferencias.</p>
																	<label for="fileinformepericial">Selecciona los archivos necesarios en tu gestión (formato de reporte, informe pericial, texto reglamentario, traducción, etc.) (puedes seleccionar varios archivos simultáneamente):</label>
																	<input type="file" multiple name="fileinformepericial" id="fileinformepericial" onchange="javascript:updateListinformepericial()">
																			<p>Archivos seleccionados:</p>
																				<div id="fileListinformepericial"></div>
																	<label for="fechainformepericial">Elije una fecha para el plazo de entrega de los documentos:</label>
																	<input type="date" name="fechainformepericial" id="fechainformepericial"><br><br>
																	Selecciona el idioma que deseas para tus documentos: <br>
																	<input type="radio" id="espanolinformepericial" name="idioma" value="espanol" checked>
																	<label for="espanolinformepericial">Español</label><br>
																	<input type="radio" id="inglesinformepericial" name="idioma" value="ingles" >
																	<label for="inglesinformepericial">Inglés</label><br>
																	<input type="radio" id="francesinformepericial" name="idioma" value="frances">
																	<label for="francesinformepericial">Francés </label><br>
																	<label for="cotizainformepericial">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																	<input type="checkbox" name="cotizainformepericial" id="cotizainformepericial"> <br>
																	<label for="mensajeinformepericial" class="formulariotexto"> Indica algún comentario que debamos considerar, también puedes solicitar que consigamos los documentos necesarios en base al número de solicitud y detalle del estado administrativo a considerar:</label>
																	<textarea class="form-control" id="mensajeinformepericial" rows="6" name="mensajeinformepericial"></textarea><br>
																	<label for="enviarinformepericial"> Confirme su envío: </label>
																	<input type="submit" id="enviarinformepericial">
																	<input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/><br>

														  </form>
								<form id="formulariorespuestapericial" class="formulario" action="javascript:reqrespuestapericialsubmit(this);">
																	<label for="refclienterespuestapericial">Puedes incluir tu referencia: </label>
															  		<input type="text" id="refclienterespuestapericial" name="refclienterespuestapericial"><br>
																	<p class="formulariotexto">Se preparan los documentos necesarios para presentar una respuesta a un informe pericial, basándose en argumentos y enmiendas preparados con antelación o propienéndolos por nuestra parte a un costo razonable. </p>
																	<label for="filerespuestapericial"><p class="formulariotexto">Selecciona los archivos necesarios en tu gestión (argumentos, enmiendas, informe pericial, texto reglamentario, traducción, etc.):</p></label>
																	<input type="file" multiple name="filerespuestapericial" id="filerespuestapericial" onchange="javascript:updateListrespuestapericial()">
																			<p>Archivos seleccionados (puedes seleccionar varios archivos simultáneamente):</p>
																				<div id="fileListrespuestapericial"></div>
																	<label for="fecharespuestapericial">Elije una fecha para el plazo de entrega de los documentos:</label>
																	<input type="date" name="fecharespuestapericial" id="fecharespuestapericial" required><br><br>
																	Selecciona el idioma que deseas para tus documentos: <br>
																	<input type="radio" id="espanolrespuestapericial" name="idioma" value="espanol" checked>
																	<label for="espanolrespuestapericial">Español</label><br>
																	<input type="radio" id="inglesrespuestapericial" name="idioma" value="ingles" >
																	<label for="inglesrespuestapericial">Inglés</label><br>
																	<input type="radio" id="francesrespuestapericial" name="idioma" value="frances">
																	<label for="francesrespuestapericial">Francés </label><br>
																	<label for="cotizarespuestapericial">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																	<input type="checkbox" name="cotizarespuestapericial" id="cotizarespuestapericial"> <br>
																	<label for="mensajerespuestapericial"> Indica algún comentario que debamos considerar:</label>
																	<textarea class="form-control" id="mensajerespuestapericial" rows="6" name="mensajerespuestapericial"></textarea><br>
																	<label for="enviarrespuestapericial"> Confirme su envío: </label>
																	<input type="submit" id="enviarrespuestapericial">
																	<input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/><br>

														  </form>
					 			<form id="formulariobea" class="formulario" action="javascript:reqbeasubmit(this);">
																	<label for="refclientebea">Puedes incluir tu referencia: </label>
															  		<input type="text" id="refclientebea" name="refclientebea"><br>
																	<p class="formulariotexto">Se prepara una búsqueda del estado del arte para una definición propuesta en base a la documentación recibida que ilustra un proyecto innovador, esta documentación puede incluir un formulario propio, notas producidas en reunión u otros medios de presentación, una reunión por videoconferencia es recomentada para presentar la innovación así como para discutir las conclusiones del informe. En el informe entregado se envalúa finalmente la patentabilidad y los mecanismos de protección del proyecto.</p>
																	<label for="filebea">Selecciona los archivos necesarios en tu gestión (formulario de búsqueda, planos o esquemas preliminares, ingenería conceptual, presentaciones power point, etc.):</label>
																	<input type="file" multiple name="filebea" id="filebea" onchange="javascript:updateListbea()">
																			<p>Archivos seleccionados (puedes seleccionar varios archivos simultáneamente):</p>
																				<div id="fileListbea"></div>
																	<label for="fechabea">Elije una fecha para el plazo de entrega de los documentos:</label>
																	<input type="date" name="fechabea" id="fechabea"><br><br>
																	Selecciona el idioma que deseas para tus documentos: <br>
																	<input type="radio" id="espanolbea" name="idioma" value="espanol" checked>
																	<label for="espanolbea">Español</label><br>
																	<input type="radio" id="inglesbea" name="idioma" value="ingles" >
																	<label for="inglesbea">Inglés</label><br>
																	<input type="radio" id="francesbea" name="idioma" value="frances">
																	<label for="francesbea">Francés </label><br>
																	<label for="cotizabea">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																	<input type="checkbox" name="cotizabea" id="cotizabea"> <br>
																	<label for="mensajebea"> Indica algún comentario que debamos considerar:</label>
																	<textarea class="form-control" id="mensajebea" rows="6" name="mensajebea"></textarea><br>
																	<label for="enviarbea"> Confirme su envío: </label>
																	<input type="submit" id="enviarbea">
																	<input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/><br>

														  </form>
								<form id="formularioredaccion" class="formulario"  action="javascript:reqredaccionsubmit(this);">
																<label for="refclienteredaccion">Puedes incluir tu referencia: </label>
															  	<input type="text" id="refclienteredaccion" name="refclienteredaccion"><br>
																<p class="formulariotexto">Se prepara el texto reglamentario completo de una solicitud de Patente de Invención, Modelo de Utilidad o Diseño Industrial,  en base a una estrategia planteada con antelación para optimizar recursos y oportunidades. Se requiere una búsqueda del arte previo y su correspondiente análisis, el cual puede ser enconmendado acá o provisto directamente. Luego este análisis es discutido en reunión por videoconferencia, para establecer el campo de aplicación a abordar, los documentos necesarios para producir el texto reglamentario con su Memoria Descriptiva y Pliego de Reivindicaciones. También las figuras pueden ser preparadas a partir de esquemas o imágenes del invento, no obstante, planos técnicos originales y preparados especialmente para esta ocasión es lo más recomendado.</p>		
																<input type="file" multiple name="fileredaccion" id="fileredaccion" onchange="javascript:updateListredaccion()" required>
																		<p>Archivos seleccionados (puedes seleccionar varios archivos simultáneamente):</p>
																			<div id="fileListredaccion"></div>
																<label for="fecharedaccion">Elije una fecha para el plazo de entrega del primer borrador:</label>
																<input type="date" name="fecharedaccion" id="fecharedaccion" required><br><br>
																<label for="cotizaredaccion">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																<input type="checkbox" name="cotizaredaccion" id="cotizaredaccion"> <br>							 
																<label for="mensajeredaccion">Indícanos un comentario en tu solicitud:</label>
																<textarea class="form-control" id="mensajeredaccion" rows="6" name="mensajeredaccion" required></textarea>
																<label for="fecharedaccion">Elije una fecha y hora (GMT-4: Santiago de Chile) para concertar una reunión y discutir la redacción de tu patente:</label>
																<input type="datetime-local" name="fechareunionredaccion" id="fechareunionredaccion"><br><br>
																Selecciona una opción: <br>
																			<small><input type="radio" id="invitaredaccionusuario" name="invitador" value="invitaredaccionusuario" checked>
																			<label for="invitaredaccionusuario">Tu te encargas de invitar y administrar la sesión de videoconferencia.</label><br>
																			<input type="radio" id="invitaredaccionlocal" name="invitador" value="invitaredaccionlocal">
																			<label for="invitaredaccionlocal">Nosotros te enviamos las invitaciones para la sesión de videoconferencia. </label><br>
																			</small><br>
																  <div id="participantesredaccionadicionales">
																			<label for="participanteredaccion1">Indica el correo electrónico de los participantes que desees agregar a la sesión:</label><br>
																			<input type="email" name="participanteredaccion1" id="participanteredaccion1" class="participante">
																	  		<div id="emailListredaccion"></div></div>
																	 		<input type="button" id="agregaemailredaccion" class="agregador" onClick="agregaparticipanteredaccion()" value="+"><small><span> Agrega más participantes</span></small><br>
																Confirme su solicitud de reunión:
																	<label for="solicitaredaccion">  </label>
																<input type="submit" id="solicitaredaccion"><input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/><br>

																</form>
								<form id="formulariocorreccionpliego" class="formulario" action="javascript:reqcorreccionpliegosubmit(this);">
																	<label for="refclientecorreccionpliego">Puedes incluir tu referencia: </label>
															  		<input type="text" id="refclientecorreccionpliego" name="refclientecorreccionpliego"><br>
																	<p class="formulariotexto">Se suele corregir el Pliego de Reivindicaciones antes de entrar en fases nacionales, también lo tendrías que hacer para andelantarte a informe periciales negativos, acá puedes solicitar una revisión de tu solicitud, considerando las objecciones que le han sido formuladas o que pudiesen aparecer durante su examinación y corregir tu Pliego de Reivindicaciones para aumentar tus posibilidades de concesión.</p>
																	<label for="filecorreccionpliego">Selecciona los archivos necesarios en tu gestión (informe(s) de búsqueda, informe(s) pericial(es), texto reglamentario, traducción, etc.):</label>
																	<input type="file" multiple name="filecorreccionpliego" id="filecorreccionpliego" onchange="javascript:updateListcorreccionpliego()">
																			<p>Archivos seleccionados:</p>
																				<div id="fileListcorreccionpliego"></div>
																	<label for="fechacorreccionpliego">Elije una fecha para el plazo de entrega de los documentos:</label>
																	<input type="date" name="fechacorreccionpliego" id="fechacorreccionpliego"><br><br>
																	Selecciona el idioma que deseas para tus documentos: <br>
																	<input type="radio" id="espanolcorreccionpliego" name="idioma" value="espanol" checked>
																	<label for="espanolcorreccionpliego">Español</label><br>
																	<input type="radio" id="inglescorreccionpliego" name="idioma" value="ingles" >
																	<label for="inglescorreccionpliego">Inglés</label><br>
																	<input type="radio" id="francescorreccionpliego" name="idioma" value="frances">
																	<label for="francescorreccionpliego">Francés </label><br>
																	<label for="cotizacorreccionpliego">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																	<input type="checkbox" name="cotizacorreccionpliego" id="cotizacorreccionpliego"> <br>
																	<label for="mensajecorreccionpliego" class="formulariotexto"> Indica algún comentario que debamos considerar, también puedes solicitar que consigamos los documentos necesarios en base al número de solicitud y detalle del estado administrativo a considerar:</label>
																	<textarea class="form-control" id="mensajecorreccionpliego" rows="6" name="mensajecorreccionpliego"></textarea><br>
																	<label for="enviarcorreccionpliego"> Confirme su envío: </label>
																	<input type="submit" id="enviarcorreccionpliego">
																	<input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/><br>

														  </form>
								<form id="formularioinfraccion" class="formulario" action="javascript:reqinfraccionsubmit(this);">
																	<label for="refclienteinfraccion">Puedes incluir tu referencia: </label>
															  		<input type="text" id="refclienteinfraccion" name="refclienteinfraccion"><br>
																	<p class="formulariotexto">Se entrega un estudio que evalúa si un producto o la descripción de un proceso industrial existente se encuentra dentro del alcance de protección de una patente o solicitud de patente junto con el análisis de la patente o solicitud en una determinada juridicción, por ejemplo en Chile.</p>
																	<label for="fileinfraccion">Selecciona los archivos necesarios en tu gestión (folleto comercial o brochure del producto, planos de un producto o descripción operativa de un proceso industrial e información de la solicitud de patente o patente registrada a revisar):</label>
																	<input type="file" multiple name="fileinfraccion" id="fileinfraccion" onchange="javascript:updateListinfraccion()">
																			<p>Archivos seleccionados:</p>
																				<div id="fileListinfraccion"></div>
																	<label for="fechainfraccion">Elije una fecha para el plazo de entrega de los documentos:</label>
																	<input type="date" name="fechainfraccion" id="fechainfraccion"><br><br>
																	Selecciona el idioma que deseas para tus documentos: <br>
																	<input type="radio" id="espanolinfraccion" name="idioma" value="espanol" checked>
																	<label for="espanolinfraccion">Español</label><br>
																	<input type="radio" id="inglesinfraccion" name="idioma" value="ingles" >
																	<label for="inglesinfraccion">Inglés</label><br>
																	<input type="radio" id="francesinfraccion" name="idioma" value="frances">
																	<label for="francesinfraccion">Francés </label><br>
																	<label for="cotizainfraccion">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																	<input type="checkbox" name="cotizainfraccion" id="cotizainfraccion"> <br>
																	<label for="mensajeinfraccion" class="formulariotexto"> Indica algún comentario que debamos considerar y la información de la patente a analizar:</label>
																	<textarea class="form-control" id="mensajeinfraccion" rows="6" name="mensajeinfraccion"></textarea><br>
																	<label for="enviarinfraccion"> Confirme su envío: </label>
																	<input type="submit" id="enviarinfraccion">
																	<input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/><br>

														  </form>
					  			<form id="formularioelo" class="formulario" action="javascript:reqelosubmit(this);">
																	<label for="refclienteelo">Puedes incluir tu referencia: </label>
															  		<input type="text" id="refclienteelo" name="refclienteelo"><br>
																	<p class="formulariotexto">Se entrega un estudio de libertad de operación, esto es un informe que te analysa las patentes o solicitudes de patentes vigentes en un país o jurisdicción relevantes para explotar un producto o proceso comercialmente, respaldándose frente a posibles acciones de titulares de propiedad industrial.</p>
																	<label for="fileelo">Selecciona los archivos necesarios en tu gestión (folleto comercial o brochure del producto, planos del producto o descripción operativa del proceso industrial e país o jurisdicción a analyzar):</label>
																	<input type="file" multiple name="fileelo" id="fileelo" onchange="javascript:updateListelo()">
																			<p>Archivos seleccionados:</p>
																				<div id="fileListelo"></div>
																	<label for="fechaelo">Elije una fecha para el plazo de entrega de los documentos:</label>
																	<input type="date" name="fechaelo" id="fechaelo"><br><br>
																	Selecciona el idioma que deseas para tus documentos: <br>
																	<input type="radio" id="espanolelo" name="idioma" value="espanol" checked>
																	<label for="espanolelo">Español</label><br>
																	<input type="radio" id="ingleselo" name="idioma" value="ingles" >
																	<label for="ingleselo">Inglés</label><br>
																	<input type="radio" id="franceselo" name="idioma" value="frances">
																	<label for="franceselo">Francés </label><br>
																	<label for="cotizaelo">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																	<input type="checkbox" name="cotizaelo" id="cotizaelo"> <br>
																	<label for="mensajeelo" class="formulariotexto"> Indica algún comentario que debamos considerar:</label>
																	<textarea class="form-control" id="mensajeelo" rows="6" name="mensajeelo"></textarea><br>
																	<label for="enviarelo"> Confirme su envío: </label>
																	<input type="submit" id="enviarelo">
																	<input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/><br>

														  </form>
								<form id="formularionulidad" class="formulario" action="javascript:reqnulidadsubmit(this);">
																	<label for="refclientenulidad">Puedes incluir tu referencia: </label>
															  		<input type="text" id="refclientenulidad" name="refclientenulidad"><br>
																	<p class="formulariotexto">Se entrega un estudio que evalúa si una patente o solicitud presentada en Chile puede ser anulada frente a una tramitación defectuosa o los argumentos necesarios para presentar una oposición durante la tramitación de la solicitud.</p>
																	<label for="fechanulidad">Elije una fecha para el plazo de entrega de los documentos:</label>
																	<input type="date" name="fechanulidad" id="fechanulidad"><br><br>
																	Selecciona el idioma que deseas para tus documentos: <br>
																	<input type="radio" id="espanolnulidad" name="idioma" value="espanol" checked>
																	<label for="espanolnulidad">Español</label><br>
																	<input type="radio" id="inglesnulidad" name="idioma" value="ingles" >
																	<label for="inglesnulidad">Inglés</label><br>
																	<input type="radio" id="francesnulidad" name="idioma" value="frances">
																	<label for="francesnulidad">Francés </label><br>
																	<label for="cotizanulidad">Deseo recibir una cotización antes de confirmar mi requerimiento:</label>
																	<input type="checkbox" name="cotizanulidad" id="cotizanulidad"> <br>
																	<label for="mensajenulidad" class="formulariotexto"> Indica algún comentario que debamos considerar y la información de la patente a analizar:</label>
																	<textarea class="form-control" id="mensajenulidad" rows="6" name="mensajenulidad" required></textarea><br>
																	<label for="enviarnulidad"> Confirme su envío: </label>
																	<input type="submit" id="enviarnulidad">
																	<input type="button" onClick="volverpanelrequerimientos()" name="botonvolver" class="botonvolver" value="<<"/><br>

														  </form>			 
					</div>
				  <div id="panelarchivos" class="paneldesplegado">
						 <input type="button" onClick="cierrepanelarchivos()" class="botoncierre" value="x"/>
					  	<h1>Revisa tus expedientes:</h1>
						<div class="ventanatabla">
							<div class="filamenuarchivos">
								<div class="columnamenuarchivos" id="tabmensajes" onClick="muestratablamensajeria()">
								  <p class="celdamenuarchivos">Mensajería </p>
								  </div>
								<div class="columnamenuarchivos" id="tabreuniones" onClick="muestratablareuniones()">
								  <p class="celdamenuarchivos">Reuniones </p> </div>
								 <div class="columnamenuarchivos" id="tabrequerimientos" onClick="muestratablarequerimientos()">
								  <p class="celdamenuarchivos">Requerimientos</p>
								</div>
								<div class="columnamenuarchivos" id="tabdocumentos" onClick="muestratabladocumentos()">
								  <p class="celdamenuarchivos">Documentos </p>
								 </div>
							 </div>
							<table class="tablaarchivos" id="mensajeriaarchivostabla">
								<thead>
									<tr>
										<th class="columnatablaarchivosmensajeria">Tu referencia/Nuestra referencia:</th>
										<th class="columnatablaarchivosmensajeria">Fecha del mensaje</th>
										<th class="columnatablaarchivosmensajeria">Ver contenido</th>
										<th class="columnatablaarchivosmensajeria"># archivos adjuntos</th>
										<th class="columnatablaarchivosmensajeria">Nombres de archivos</th>
									</tr>
								</thead>
								<tbody class="tbodyarchivos" id="archivosmensajeriatbody">
									<tr class="filaarchivos">
										<td class="columnatablaarchivosmensajeria">Referencia cliente/Referencia interna</td>
										<td class="columnatablaarchivosmensajeria">mm/dd/aaaa</td>
										<td class="columnatablaarchivosmensajeria">Revisa el mensaje</td>
										<td class="columnatablaarchivosmensajeria">##</td>
										<td class="columnatablaarchivosmensajeria">Revisa los archivos</td>
									</tr>
								</tbody>
							</table><br>
							<table class="tablaarchivos" id="reunionesarchivostabla">
								<thead>
									<tr>
										<th class="columnatablaarchivosreuniones">Tu referencia/Nuestra referencia:</th>
										<th class="columnatablaarchivosreuniones">Fecha de solicitud:</th>
										<th class="columnatablaarchivosreuniones">Fecha de reunión:</th>
										<th class="columnatablaarchivosreuniones">Mensajes</th>
										<th class="columnatablaarchivosreuniones">Participantes:</th>
									</tr>
								</thead>
								<tbody class="tbodyarchivos" id="reunionesarchivostbody">
									<tr class="filaarchivos">
										<td class="columnatablaarchivosreuniones" >Referencia cliente/Referencia interna</td>
										<td class="columnatablaarchivosreuniones" >Fecha de solicitud</td>
										<td class="columnatablaarchivosreuniones" >Fecha de reunión</td>
										<td class="columnatablaarchivosreuniones" >Ver mensajes</td>
										<td class="columnatablaarchivosreuniones" >## y @@@@</td>
										</tr>
							
								</tbody>
							</table><br>
							<table class="tablaarchivos" id="requerimientosarchivostabla">
								<thead>
									<tr>
										<th class="columnatablaarchivosrequerimientos">Tu referencia/Nuestra referencia:</th>
										<th class="columnatablaarchivosrequerimientos">Fecha de solicitud</th>
										<th class="columnatablaarchivosrequerimientos">Tipo</th>
										<th class="columnatablaarchivosrequerimientos">Fecha de requerimiento</th>
										<th class="columnatablaarchivosrequerimientos">Mensaje</th>
										<th class="columnatablaarchivosrequerimientos">Cotización</th>
									</tr>
								</thead>
									<tbody class="tbodyarchivos" id="requerimientosarchivostbody">
									<tr class="filaarchivos">
										<td class="columnatablaarchivosrequerimientos" >Referencia cliente/Referencia interna</td>
										<td class="columnatablaarchivosrequerimientos" >mm/dd/aaaa</td>
										<td class="columnatablaarchivosrequerimientos" >Tipo de gestión</td>
										<td class="columnatablaarchivosrequerimientos" >mm/dd/aaaa</td>
										<td class="columnatablaarchivosrequerimientos" >Ver mensajes</td>
										<td class="columnatablaarchivosrequerimientos" >Si/no UF/$/€</td>
									</tr>
								</tbody>
							</table><br>
							<table class="tablaarchivos" id="documentosarchivostabla">
								<thead>
									<tr>
										<th class="columnatablaarchivosdocumentos">Nombre de archivo</th>
										<th class="columnatablaarchivosdocumentos">Fecha de recepción</th>
										<th class="columnatablaarchivosdocumentos">Archivo enviado en</th>
										<th class="columnatablaarchivosdocumentos">Tu referencia/Nuestra referencia:</th>
										<th class="columnatablaarchivosdocumentos">Tamaño</th>
										<th class="columnatablaarchivosdocumentos">Descargar</th>
									</tr>
								</thead>
								<tbody class="tbodyarchivos" id="documentosarchivostbody">
									<tr class="filaarchivos">
										<td class="columnatablaarchivosdocumentos" >documento</td>
										<td class="columnatablaarchivosdocumentos" >mm/dd/aaaa</td>
										<td class="columnatablaarchivosdocumentos" >Mensaje o requerimiento</td>
										<td class="columnatablaarchivosdocumentos" >Referencia cliente/Referencia interna</td>
										<td class="columnatablaarchivosdocumentos" >#####,# Mb</td>
										<td class="columnatablaarchivosdocumentos" >iniciar descarga</td>
									</tr>
									</tbody>
							</table><br>
						</div>
					</div>		
									
				</aside>
				<footer class="panelusuarioinferior">
				</footer>
			</div>
		</div>
	
	<div id="paneladministrador" class="paneladmindesplegado">
	<button onClick="salirdelsistema()" name="signout" >Salir del sistema</button>
	<button onClick="todoslosnuevosdatos()" name="botontodoslosnuevosdatos" id="botontodoslosnuevosdatos">Mostrar los nuevos datos</button>
	<button onClick="todoslospendientes()" name="botontodoslospendientes" id="botontodoslospendientes">Mostrar los casos pendientes</button>
	<button onClick="todoslosfinalizados()" name="botontodoslosfinalizados" id="botontodoslosfinalizados">Mostrar los casos finalizados</button>
	<button onClick="todoslosfallados()" name="botontodoslosfallados" id="botontodoslosfallados">Mostrar los casos fallados</button>
		<section id="paneltodoslosdatos" >
				<h1>Revisa los expedientes de: <span id="usuarioactivo"></span> 
			  <div class="dropdown">
 				 <button class="dropbtn">Clientes</button>
 					 <div class="dropdown-content" id="listausuarios">
  						  <a href="javascript:selectorcliente();">Cliente 1</a>
  						  <a href="javascript:selectorcliente();">Cliente 2</a>
  						  <a href="javascript:selectorcliente();">Cliente 3</a>
						 </div>
				</div></h1>
				<div class="ventanatablatodoslosdatos">
							<div class="filamenutodoslosdatos">
								<div class="columnamenutodoslosdatos" id="tabtodoslosdatosmensajes" onClick="muestratablatodoslosdatosmensajes()">
								  <p class="celdamenutodoslosdatos">Mensajería </p>
								  </div>
								<div class="columnamenutodoslosdatos" id="tabtodoslosdatosreuniones" onClick="muestratablatodoslosdatosreuniones()">
							  <p class="celdamenutodoslosdatos">Reuniones </p> </div>
								 <div class="columnamenutodoslosdatos" id="tabtodoslosdatosrequerimientos" onClick="muestratablatodoslosdatosrequerimientos()">
								  <p class="celdamenutodoslosdatos">Requerimientos</p>
								</div>
								<div class="columnamenutodoslosdatos" id="tabtodoslosdatosperfilusario" onClick="muestratablatodoslosdatosperfilusuario()">
								  <p class="celdamenutodoslosdatos">Perfil de usuario</p>
								</div>
							 </div>
							<table class="tablatodoslosdatos" id="mensajeriatodoslosdatostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosdatosmensajeria">Fecha del mensaje</th>
										<th class="columnatablatodoslosdatosmensajeria">Ver contenido</th>
										<th class="columnatablatodoslosdatosmensajeria"># archivos adjuntos</th>
										<th class="columnatablatodoslosdatosmensajeria">Nombres de archivos</th>
										<th class="columnatablatodoslosdatosmensajeria">Actualización</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslosdatos" id="todoslosdatosmensajeriatbody">
									<tr class="filatodoslosdatos">
										<td class="columnatablatodoslosdatosmensajeria" id="todoslosdatosmensajeria">mm/dd/aaaa</td>
										<td class="columnatablatodoslosdatosmensajeria" id="todoslosdatosmensajeriafecha">Revisa el mensaje</td>
										<td class="columnatablatodoslosdatosmensajeria" id="todoslosdatosmensajeriaacceso">##</td>
										<td class="columnatablatodoslosdatosmensajeria" id="todoslosdatosmensajeriadocumentos">Revisa los archivos</td>
										<td class="columnatablatodoslosdatosmensajeria" id="todoslosdatosmensajeriaestado">Selecciona el estado</td>
									</tr>
								</tbody>
							</table><br>
							<table class="tablatodoslosdatos" id="reunionestodoslosdatostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosdatosreuniones">Fecha de solicitud</th>
										<th class="columnatablatodoslosdatosreuniones">Fecha de reunión</th>
										<th class="columnatablatodoslosdatosreuniones">Mensajes</th>
										<th class="columnatablatodoslosdatosreuniones">Participantes</th>
										<th class="columnatablatodoslosdatosreuniones">Actualización</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslosdatos" id="reunionestodoslosdatostbody">
									<tr class="filatodoslosdatos">
										<td class="columnatablatodoslosdatosreuniones">Fecha de solicitud</td>
										<td class="columnatablatodoslosdatosreuniones">Fecha de reunión</td>
										<td class="columnatablatodoslosdatosreuniones">Ver mensajes</td>
										<td class="columnatablatodoslosdatosreuniones">## y @@@@</td>
										<td class="columnatablatodoslosdatosreuniones">Selecciona el estado</td>
										</tr>
							
								</tbody>
							</table><br>
							<table class="tablatodoslosdatos" id="requerimientostodoslosdatostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosdatosrequerimientos">Fecha de solicitud</th>
										<th class="columnatablatodoslosdatosrequerimientos">Tipo</th>
										<th class="columnatablatodoslosdatosrequerimientos">Fecha de requerimiento</th>
										<th class="columnatablatodoslosdatosrequerimientos">Mensaje</th>
										<th class="columnatablatodoslosdatosrequerimientos">Cotización</th>
										<th class="columnatablatodoslosdatosrequerimientos">Actualización</th>
									</tr>
								</thead>
									<tbody class="tbodytodoslosdatos" id="requerimientostodoslosdatostbody">
									<tr class="filatodoslosdatos">
										<td class="columnatablatodoslosdatosrequerimientos">mm/dd/aaaa</td>
										<td class="columnatablatodoslosdatosrequerimientos">Tipo de gestión</td>
										<td class="columnatablatodoslosdatosrequerimientos">mm/dd/aaaa</td>
										<td class="columnatablatodoslosdatosrequerimientos">Ver mensajes</td>
										<td class="columnatablatodoslosdatosrequerimientos">Si/no UF/$/€</td>
										<td class="columnatablatodoslosdatosrequerimientos">Selecciona el estado</td>
									</tr>
								</tbody>
							</table><br>
							<table class="tablatodoslosdatos" id="perfilusuariotodoslosdatostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosdatosperfilusuario">Email</th>
										<th class="columnatablatodoslosdatosperfilusuario">Nombre:</th>
										<th class="columnatablatodoslosdatosperfilusuario">Organización</th>
										<th class="columnatablatodoslosdatosperfilusuario">Cargo</th>
										<th class="columnatablatodoslosdatosperfilusuario">Comentario</th>
									</tr>
								</thead>
									<tbody class="tbodytodoslosdatos" id="perfilusuariotodoslosdatostbody">
									<tr class="filatodoslosdatos">
										<td class="columnatablatodoslosdatosperfilusuario">correo@host.com</td>
										<td class="columnatablatodoslosdatosperfilusuario">Juan Moya</td>
										<td class="columnatablatodoslosdatosperfilusuario">Oficina Moya</td>
										<td class="columnatablatodoslosdatosperfilusuario">Puesto Moya</td>
										<td class="columnatablatodoslosdatosperfilusuario">ver comentario</td>
									</tr>
								</tbody>
							</table><br>
							</div>
					</section>
		
		<section id="paneltodoslosnuevosdatos">
			<h1>Revisa los expedientes nuevos:  <span id="cantidaddecasosnuevos"></span> </h1>
			<div class="ventanatablatodoslosnuevosdatos">
							<div class="filamenutodoslosnuevosdatos">
							  <div class="columnamenutodoslosnuevosdatos" id="tabtodoslosnuevosdatosmensajes" onClick="muestratablatodoslosnuevosdatosmensajes()">
								  <p class="celdamenutodoslosnuevosdatos">Mensajería </p>
								  </div>
								<div class="columnamenutodoslosnuevosdatos" id="tabtodoslosnuevosdatosreuniones" onClick="muestratablatodoslosnuevosdatosreuniones()">
							  <p class="celdamenutodoslosnuevosdatos">Reuniones </p> </div>
								 <div class="columnamenutodoslosnuevosdatos" id="tabtodoslosnuevosdatosrequerimientos" onClick="muestratablatodoslosnuevosdatosrequerimientos()">
								  <p class="celdamenutodoslosnuevosdatos">Requerimientos</p>
								</div>
			 					 </div>
							<table class="tablatodoslosnuevosdatos" id="mensajeriatodoslosnuevosdatostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosnuevosdatosmensajeria">Fecha del mensaje</th>
										<th class="columnatablatodoslosnuevosdatosmensajeria">Ver contenido</th>
										<th class="columnatablatodoslosnuevosdatosmensajeria"># archivos adjuntos</th>
										<th class="columnatablatodoslosnuevosdatosmensajeria">Nombres de archivos</th>
										<th class="columnatablatodoslosnuevosdatosmensajeria">Email usuario</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslosnuevosdatos" id="todoslosnuevosdatosmensajeriatbody">
									<tr class="filatodoslosnuevosdatos">
										<td class="columnatablatodoslosnuevosdatosmensajeria" id="todoslosnuevosdatosmensajeria">mm/dd/aaaa</td>
										<td class="columnatablatodoslosnuevosdatosmensajeria" id="todoslosnuevosdatosmensajeriafecha">Revisa tu mensaje</td>
										<td class="columnatablatodoslosnuevosdatosmensajeria" id="todoslosnuevosdatosmensajeriaacceso">##</td>
										<td class="columnatablatodoslosnuevosdatosmensajeria" id="todoslosnuevosdatosmensajeriadocumentos">Revisa tus archivos</td>
										<td class="columnatablatodoslosnuevosdatosmensajeria" id="todoslosnuevosdatosmensajeriaemail">usuario@host.com</td>
									</tr>
								</tbody>
							</table><br>
							<table class="tablatodoslosnuevosdatos" id="reunionestodoslosnuevosdatostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosnuevosdatosreuniones">Fecha de solicitud:</th>
										<th class="columnatablatodoslosnuevosdatosreuniones">Fecha de reunión:</th>
										<th class="columnatablatodoslosnuevosdatosreuniones">Mensajes</th>
										<th class="columnatablatodoslosnuevosdatosreuniones">Participantes:</th>
										<th class="columnatablatodoslosnuevosdatosmensajeria">Email usuario</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslosnuevosdatos" id="reunionestodoslosnuevosdatostbody">
									<tr class="filatodoslosnuevosdatos">
										<td class="columnatablatodoslosnuevosdatosreuniones" >Fecha de solicitud</td>
										<td class="columnatablatodoslosnuevosdatosreuniones" >Fecha de reunión</td>
										<td class="columnatablatodoslosnuevosdatosreuniones" >Ver mensajes</td>
										<td class="columnatablatodoslosnuevosdatosreuniones" >## y @@@@</td>
										<td class="columnatablatodoslosnuevosdatosreuniones">usuario@host.com</td>
										</tr>
							
								</tbody>
							</table><br>
							<table class="tablatodoslosnuevosdatos" id="requerimientostodoslosnuevosdatostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosnuevosdatosrequerimientos">Fecha de solicitud</th>
										<th class="columnatablatodoslosnuevosdatosrequerimientos">Tipo</th>
										<th class="columnatablatodoslosnuevosdatosrequerimientos">Fecha de requerimiento</th>
										<th class="columnatablatodoslosnuevosdatosrequerimientos">Mensaje</th>
										<th class="columnatablatodoslosnuevosdatosrequerimientos">Cotización</th>
										<th class="columnatablatodoslosnuevosdatosrequerimientos">Email usuario</th>
									</tr>
								</thead>
									<tbody class="tbodytodoslosnuevosdatos" id="requerimientostodoslosnuevosdatostbody">
									<tr class="filatodoslosnuevosdatos">
										<td class="columnatablatodoslosnuevosdatosrequerimientos"  >mm/dd/aaaa</td>
										<td class="columnatablatodoslosnuevosdatosrequerimientos" >Tipo de gestión</td>
										<td class="columnatablatodoslosnuevosdatosrequerimientos" >mm/dd/aaaa</td>
										<td class="columnatablatodoslosnuevosdatosrequerimientos" >Ver mensajes</td>
										<td class="columnatablatodoslosnuevosdatosrequerimientos" >Si/no UF/$/€</td>
										<td class="columnatablatodoslosnuevosdatosrequerimientos">usuario@host.com</td>
									</tr>
								</tbody>
							</table><br>
							<br>
			</div>
		</section>
	 
		<section id="paneltodoslospendientes">
			<h1>Revisa los expedientes pendientes: <span id="cantidaddecasospendientes"></span></h1>
			<div class="ventanatablatodoslospendientes">
							<div class="filamenutodoslospendientes">
							  <div class="columnamenutodoslospendientes" id="tabtodoslospendientesmensajes" onClick="muestratablatodoslospendientesmensajes()">
								  <p class="celdamenutodoslospendientes">Mensajería </p>
								  </div>
								<div class="columnamenutodoslospendientes" id="tabtodoslospendientesreuniones" onClick="muestratablatodoslospendientesreuniones()">
							  <p class="celdamenutodoslospendientes">Reuniones </p> </div>
								 <div class="columnamenutodoslospendientes" id="tabtodoslospendientesrequerimientos" onClick="muestratablatodoslospendientesrequerimientos()">
								  <p class="celdamenutodoslospendientes">Requerimientos</p>
								</div>
			 					 </div>
							<table class="tablatodoslospendientes" id="mensajeriatodoslospendientestabla">
								<thead>
									<tr>
										<th class="columnatablatodoslospendientesmensajeria">Fecha del mensaje</th>
										<th class="columnatablatodoslospendientesmensajeria">Ver contenido</th>
										<th class="columnatablatodoslospendientesmensajeria"># archivos adjuntos</th>
										<th class="columnatablatodoslospendientesmensajeria">Nombres de archivos</th>
										<th class="columnatablatodoslospendientesmensajeria">Email usuario</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslospendientes" id="todoslospendientesmensajeriatbody">
									<tr class="filatodoslospendientes">
										<td class="columnatablatodoslospendientesmensajeria" id="todoslospendientesmensajeria">mm/dd/aaaa</td>
										<td class="columnatablatodoslospendientesmensajeria" id="todoslospendientesmensajeriafecha">Revisa tu mensaje</td>
										<td class="columnatablatodoslospendientesmensajeria" id="todoslospendientesmensajeriaacceso">##</td>
										<td class="columnatablatodoslospendientesmensajeria" id="todoslospendientesmensajeriadocumentos">Revisa tus archivos</td>
										<td class="columnatablatodoslospendientesmensajeria" id="todoslospendientesmensajeriaemail">usuario@host.com</td>
									</tr>
								</tbody>
							</table><br>
							<table class="tablatodoslospendientes" id="reunionestodoslospendientestabla">
								<thead>
									<tr>
										<th class="columnatablatodoslospendientesreuniones">Fecha de solicitud:</th>
										<th class="columnatablatodoslospendientesreuniones">Fecha de reunión:</th>
										<th class="columnatablatodoslospendientesreuniones">Mensajes</th>
										<th class="columnatablatodoslospendientesreuniones">Participantes:</th>
										<th class="columnatablatodoslospendientesmensajeria">Email usuario</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslospendientes" id="reunionestodoslospendientestbody">
									<tr class="filatodoslospendientes">
										<td class="columnatablatodoslospendientesreuniones" >Fecha de solicitud</td>
										<td class="columnatablatodoslospendientesreuniones" >Fecha de reunión</td>
										<td class="columnatablatodoslospendientesreuniones" >Ver mensajes</td>
										<td class="columnatablatodoslospendientesreuniones" >## y @@@@</td>
										<td class="columnatablatodoslospendientesreuniones">usuario@host.com</td>
										</tr>
							
								</tbody>
							</table><br>
							<table class="tablatodoslospendientes" id="requerimientostodoslospendientestabla">
								<thead>
									<tr>
										<th class="columnatablatodoslospendientesrequerimientos">Fecha de solicitud</th>
										<th class="columnatablatodoslospendientesrequerimientos">Tipo</th>
										<th class="columnatablatodoslospendientesrequerimientos">Fecha de requerimiento</th>
										<th class="columnatablatodoslospendientesrequerimientos">Mensaje</th>
										<th class="columnatablatodoslospendientesrequerimientos">Cotización</th>
										<th class="columnatablatodoslospendientesrequerimientos">Email usuario</th>
									</tr>
								</thead>
									<tbody class="tbodytodoslospendientes" id="requerimientostodoslospendientestbody">
									<tr class="filatodoslospendientes">
										<td class="columnatablatodoslospendientesrequerimientos"  >mm/dd/aaaa</td>
										<td class="columnatablatodoslospendientesrequerimientos" >Tipo de gestión</td>
										<td class="columnatablatodoslospendientesrequerimientos" >mm/dd/aaaa</td>
										<td class="columnatablatodoslospendientesrequerimientos" >Ver mensajes</td>
										<td class="columnatablatodoslospendientesrequerimientos" >Si/no UF/$/€</td>
										<td class="columnatablatodoslospendientesrequerimientos">usuario@host.com</td>
									</tr>
								</tbody>
							</table><br>
							<br>
			</div>
		</section>
		
		<section id="paneltodoslosfinalizados">
			<h1>Revisa los expedientes finalizados: <span id="cantidaddecasosfinalizados"></span></h1>
			<div class="ventanatablatodoslosfinalizados">
							<div class="filamenutodoslosfinalizados">
							  <div class="columnamenutodoslosfinalizados" id="tabtodoslosfinalizadosmensajes" onClick="muestratablatodoslosfinalizadosmensajes()">
								  <p class="celdamenutodoslosfinalizados">Mensajería </p>
								  </div>
								<div class="columnamenutodoslosfinalizados" id="tabtodoslosfinalizadosreuniones" onClick="muestratablatodoslosfinalizadosreuniones()">
							  <p class="celdamenutodoslosfinalizados">Reuniones </p> </div>
								 <div class="columnamenutodoslosfinalizados" id="tabtodoslosfinalizadosrequerimientos" onClick="muestratablatodoslosfinalizadosrequerimientos()">
								  <p class="celdamenutodoslosfinalizados">Requerimientos</p>
								</div>
			 					 </div>
							<table class="tablatodoslosfinalizados" id="mensajeriatodoslosfinalizadostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosfinalizadosmensajeria">Fecha del mensaje</th>
										<th class="columnatablatodoslosfinalizadosmensajeria">Ver contenido</th>
										<th class="columnatablatodoslosfinalizadosmensajeria"># archivos adjuntos</th>
										<th class="columnatablatodoslosfinalizadosmensajeria">Nombres de archivos</th>
										<th class="columnatablatodoslosfinalizadosmensajeria">Email usuario</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslosfinalizados" id="todoslosfinalizadosmensajeriatbody">
									<tr class="filatodoslosfinalizados">
										<td class="columnatablatodoslosfinalizadosmensajeria" id="todoslosfinalizadosmensajeria">mm/dd/aaaa</td>
										<td class="columnatablatodoslosfinalizadosmensajeria" id="todoslosfinalizadosmensajeriafecha">Revisa tu mensaje</td>
										<td class="columnatablatodoslosfinalizadosmensajeria" id="todoslosfinalizadosmensajeriaacceso">##</td>
										<td class="columnatablatodoslosfinalizadosmensajeria" id="todoslosfinalizadosmensajeriadocumentos">Revisa tus archivos</td>
										<td class="columnatablatodoslosfinalizadosmensajeria" id="todoslosfinalizadosmensajeriaemail">usuario@host.com</td>
									</tr>
								</tbody>
							</table><br>
							<table class="tablatodoslosfinalizados" id="reunionestodoslosfinalizadostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosfinalizadosreuniones">Fecha de solicitud:</th>
										<th class="columnatablatodoslosfinalizadosreuniones">Fecha de reunión:</th>
										<th class="columnatablatodoslosfinalizadosreuniones">Mensajes</th>
										<th class="columnatablatodoslosfinalizadosreuniones">Participantes:</th>
										<th class="columnatablatodoslosfinalizadosmensajeria">Email usuario</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslosfinalizados" id="reunionestodoslosfinalizadostbody">
									<tr class="filatodoslosfinalizados">
										<td class="columnatablatodoslosfinalizadosreuniones" >Fecha de solicitud</td>
										<td class="columnatablatodoslosfinalizadosreuniones" >Fecha de reunión</td>
										<td class="columnatablatodoslosfinalizadosreuniones" >Ver mensajes</td>
										<td class="columnatablatodoslosfinalizadosreuniones" >## y @@@@</td>
										<td class="columnatablatodoslosfinalizadosreuniones">usuario@host.com</td>
										</tr>
							
								</tbody>
							</table><br>
							<table class="tablatodoslosfinalizados" id="requerimientostodoslosfinalizadostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosfinalizadosrequerimientos">Fecha de solicitud</th>
										<th class="columnatablatodoslosfinalizadosrequerimientos">Tipo</th>
										<th class="columnatablatodoslosfinalizadosrequerimientos">Fecha de requerimiento</th>
										<th class="columnatablatodoslosfinalizadosrequerimientos">Mensaje</th>
										<th class="columnatablatodoslosfinalizadosrequerimientos">Cotización</th>
										<th class="columnatablatodoslosfinalizadosrequerimientos">Email usuario</th>
									</tr>
								</thead>
									<tbody class="tbodytodoslosfinalizados" id="requerimientostodoslosfinalizadostbody">
									<tr class="filatodoslosfinalizados">
										<td class="columnatablatodoslosfinalizadosrequerimientos"  >mm/dd/aaaa</td>
										<td class="columnatablatodoslosfinalizadosrequerimientos" >Tipo de gestión</td>
										<td class="columnatablatodoslosfinalizadosrequerimientos" >mm/dd/aaaa</td>
										<td class="columnatablatodoslosfinalizadosrequerimientos" >Ver mensajes</td>
										<td class="columnatablatodoslosfinalizadosrequerimientos" >Si/no UF/$/€</td>
										<td class="columnatablatodoslosfinalizadosrequerimientos">usuario@host.com</td>
									</tr>
								</tbody>
							</table><br>
							<br>
			</div>
		</section>
		
		<section id="paneltodoslosfallados">
			<h1>Revisa los expedientes fallados: <span id="cantidaddecasosfallados"></span></h1>
			<div class="ventanatablatodoslosfallados">
							<div class="filamenutodoslosfallados">
							  <div class="columnamenutodoslosfallados" id="tabtodoslosfalladosmensajes" onClick="muestratablatodoslosfalladosmensajes()">
								  <p class="celdamenutodoslosfallados">Mensajería </p>
								  </div>
								<div class="columnamenutodoslosfallados" id="tabtodoslosfalladosreuniones" onClick="muestratablatodoslosfalladosreuniones()">
							  <p class="celdamenutodoslosfallados">Reuniones </p> </div>
								 <div class="columnamenutodoslosfallados" id="tabtodoslosfalladosrequerimientos" onClick="muestratablatodoslosfalladosrequerimientos()">
								  <p class="celdamenutodoslosfallados">Requerimientos</p>
								</div>
			 					 </div>
							<table class="tablatodoslosfallados" id="mensajeriatodoslosfalladostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosfalladosmensajeria">Fecha del mensaje</th>
										<th class="columnatablatodoslosfalladosmensajeria">Ver contenido</th>
										<th class="columnatablatodoslosfalladosmensajeria"># archivos adjuntos</th>
										<th class="columnatablatodoslosfalladosmensajeria">Nombres de archivos</th>
										<th class="columnatablatodoslosfalladosmensajeria">Email usuario</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslosfallados" id="todoslosfalladosmensajeriatbody">
									<tr class="filatodoslosfallados">
										<td class="columnatablatodoslosfalladosmensajeria" id="todoslosfalladosmensajeria">mm/dd/aaaa</td>
										<td class="columnatablatodoslosfalladosmensajeria" id="todoslosfalladosmensajeriafecha">Revisa tu mensaje</td>
										<td class="columnatablatodoslosfalladosmensajeria" id="todoslosfalladosmensajeriaacceso">##</td>
										<td class="columnatablatodoslosfalladosmensajeria" id="todoslosfalladosmensajeriadocumentos">Revisa tus archivos</td>
										<td class="columnatablatodoslosfalladosmensajeria" id="todoslosfalladosmensajeriaemail">usuario@host.com</td>
									</tr>
								</tbody>
							</table><br>
							<table class="tablatodoslosfallados" id="reunionestodoslosfalladostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosfalladosreuniones">Fecha de solicitud:</th>
										<th class="columnatablatodoslosfalladosreuniones">Fecha de reunión:</th>
										<th class="columnatablatodoslosfalladosreuniones">Mensajes</th>
										<th class="columnatablatodoslosfalladosreuniones">Participantes:</th>
										<th class="columnatablatodoslosfalladosmensajeria">Email usuario</th>
									</tr>
								</thead>
								<tbody class="tbodytodoslosfallados" id="reunionestodoslosfalladostbody">
									<tr class="filatodoslosfallados">
										<td class="columnatablatodoslosfalladosreuniones" >Fecha de solicitud</td>
										<td class="columnatablatodoslosfalladosreuniones" >Fecha de reunión</td>
										<td class="columnatablatodoslosfalladosreuniones" >Ver mensajes</td>
										<td class="columnatablatodoslosfalladosreuniones" >## y @@@@</td>
										<td class="columnatablatodoslosfalladosreuniones">usuario@host.com</td>
										</tr>
							
								</tbody>
							</table><br>
							<table class="tablatodoslosfallados" id="requerimientostodoslosfalladostabla">
								<thead>
									<tr>
										<th class="columnatablatodoslosfalladosrequerimientos">Fecha de solicitud</th>
										<th class="columnatablatodoslosfalladosrequerimientos">Tipo</th>
										<th class="columnatablatodoslosfalladosrequerimientos">Fecha de requerimiento</th>
										<th class="columnatablatodoslosfalladosrequerimientos">Mensaje</th>
										<th class="columnatablatodoslosfalladosrequerimientos">Cotización</th>
										<th class="columnatablatodoslosfalladosrequerimientos">Email usuario</th>
									</tr>
								</thead>
									<tbody class="tbodytodoslosfallados" id="requerimientostodoslosfalladostbody">
									<tr class="filatodoslosfallados">
										<td class="columnatablatodoslosfalladosrequerimientos"  >mm/dd/aaaa</td>
										<td class="columnatablatodoslosfalladosrequerimientos" >Tipo de gestión</td>
										<td class="columnatablatodoslosfalladosrequerimientos" >mm/dd/aaaa</td>
										<td class="columnatablatodoslosfalladosrequerimientos" >Ver mensajes</td>
										<td class="columnatablatodoslosfalladosrequerimientos" >Si/no UF/$/€</td>
										<td class="columnatablatodoslosfalladosrequerimientos">usuario@host.com</td>
									</tr>
								</tbody>
							</table><br>
							<br>
			</div>
		</section>
	</div>

	</main>

	<section id="franjainferior">
	<div class="row">
    <div class="columns">
      <p class="thumbnail_align"> <img src="images/manos2.png" alt="" class="thumbnail"/> </p>
      <h4 class="titulosocial">Empresas especializadas en Propiedad Industrial y abogados</h4>
      <p class="textsocial">Aumente su capacidad de manejo y tramitación de expedientes, con toda seguridad y confianza en los cumplimientos de plazos. Escale sin costos fijos y satisfazga su creciente demanda frente a los desafíos de las grandes y muy grandes empresas.&nbsp;</p>
    </div>
    <div class="columns">
      <p class="thumbnail_align"> <img src="images/industrias1.png" alt="" class="thumbnail"/> </p>
      <h4 class="titulosocial">Empresas con actividad industrial</h4>
      <p class="textsocial"><br>
		  Consulte directamente con un especialista para un refuerzo de su equipo de inovación y desarrollo. Se ofrecen los estudios preparatorios y asesoría para la gestión y defensa de su propiedad industrial.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
    </div>
    <div class="columns">
      <p class="thumbnail_align"> <img src="images/academia1.png" alt="" class="thumbnail"/> </p>
      <h4 class="titulosocial">Universidades y centros tecnológicos</h4>
      <p class="textsocial"><br>
		  Se ofrecen búsquedas del estado del arte, redacciones de patente en el área de ingeniería civil mecánica, preparación de diseños industriales y modelos de utilidad y apoyo a las respuestas de acciones oficiales antes las Oficinas estatales de Propiedad Industrial en el mundo.</p>
    </div>
    <div class="columns">
      <p class="thumbnail_align"> <img src="images/inversiones2.png" alt="" class="thumbnail"/> </p>
      <h4 class="titulosocial">Inversionistas y gestión de activos</h4>
      <p class="textsocial"><br>
		  Apoyo en su cartera de inversiones, analice el estado de sus activos de Propiedad Industrial. Conozca el estado actualizado de sus registros, su capacidad innovadora y la libertad de operar sin infringer patente de invención en algún mercado de interés.</p>
    </div>
  </div>
		 <footer class="footerregistro">
      </footer>
  <div class="row blockDisplay">
    <div class="column_half left_half">
      <h2 class="column_title">PROGRAME SU REQUERIMIENTO <br>
       VIDEOCONFERENCIA&nbsp;</h2>
    </div>
    <div class="column_half right_half">
      <h2 class="column_title">PLAZOS BREVES&nbsp;&nbsp;<br>
       DOCUMENTOS PROFESIONALES</h2>
    </div>
  </div>

		  <div class="social">
    <p class="social_icon"><img src="images/bkg_06.jpg" width="100" alt="" class="thumbnail"/></p>
    <p class="social_icon"><img src="images/bkg_06.jpg" width="100" alt="" class="thumbnail"/></p>
    <p class="social_icon"><img src="images/bkg_06.jpg" width="100" alt="" class="thumbnail"/></p>
    <p class="social_icon"><img src="images/bkg_06.jpg" width="100" alt="" class="thumbnail"/></p>
  </div>
  <footer class="final_header footer">
    <div class="copyright">&copy;2021 - <strong>SANTIAGO - CHILE</strong></div>
  </footer>
	</section>
</div>
				<!-- se carga el codigo de los paneles de usuario al final de cargar toda la página-->
		
<!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->
    <!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
 	<!-- update the version number as needed -->
<script>self.FIREBASE_APPCHECK_DEBUG_TOKEN = true;</script>
<script src="/__/firebase/8.8.1/firebase-app.js"></script>
<!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
<script src="/__/firebase/8.8.1/firebase-analytics.js"></script>
<!-- include only the Firebase features as you need -->
 <!-- Add Firebase products that you want to use -->
<script src="/__/firebase/8.8.1/firebase-auth.js"></script>
 <script src="/__/firebase/8.8.1/firebase-firestore.js"></script>
<script src="/__/firebase/8.9.1/firebase-storage.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app-check.js"></script>
	  <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
<script>// For Firebase JavaScript SDK v7.20.0 and later, `measurementId` is an optional field
var firebaseConfig = {
  apiKey: "AIzaSyCj8Z9O7-I-mgefLXZV0pKs98ioDzbE_xw",
  authDomain: "prototipo-beta1.firebaseapp.com",
  databaseURL: "https://prototipo-beta1.firebaseio.com",
  projectId: "prototipo-beta1",
  storageBucket: "prototipo-beta1.appspot.com",
  messagingSenderId: "776295688716",
  appId: "1:776295688716:web:99bb32569775ad62419c29",
  measurementId: "G-T1JS3SDD9R"
};
			
				// Initialize Firebase
				firebase.initializeApp(firebaseConfig);
				firebase.analytics();
				const appCheck = firebase.appCheck();
				// Pass your reCAPTCHA v3 site key (public key) to activate(). Make sure this
				// key is the counterpart to the secret key you set in the Firebase console.
				appCheck.activate('6LdWMtcbAAAAAHicytnBF38GxE4vW5_DPyg5VO00',
  // Optional argument. If true, the SDK automatically refreshes App Check
  // tokens as needed.
  true);

	
</script>

	
<script id="logincorreo" type="application/javascript">
	/*Variables de los paneles de la app*/

	/*script para el boton de logout en panelgeneral*/
	 function logout() {
      if (firebase.auth().currentUser) {  		    
		  firebase.auth().signOut();
      }} 
    /**
	* Handles the sign in button press.
     */
		 
    function toggleSignIn() {
      if (firebase.auth().currentUser) {
       	  
		  firebase.auth().signOut();

      } else {
        var email = document.getElementById('email').value;
        var password = document.getElementById('password').value;
        if (email.length < 4) {
          alert('Por favor ingrese un correo electrónico');
          return;
        }
        if (password.length < 4) {
          alert('Por favor ingrese una clave secreta.');
          return;
        }
        // Sign in with email and pass.
        firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
          // Handle Errors here.
          var errorCode = error.code;
          var errorMessage = error.message;
          if (errorCode === 'auth/wrong-password') {
            alert('Clave secreta incorrecta.');
          } else {
            alert(errorMessage);
          }
          console.log(error);
          document.getElementById('quickstart-sign-in').disabled = false;
        });
      }
      document.getElementById('quickstart-sign-in').disabled = true;
    }

    /**
     * Handles the sign up button press.
     */
    function handleSignUp() {
      var email = document.getElementById('email').value;
      var password = document.getElementById('password').value;
      if (email.length < 4) {
        alert('Por favor ingrese un correo electrónico');
        return;
      }
      if (password.length < 4) {
        alert('Por favor ingrese una clave secreta.');
        return;
      }
      // Create user with email and pass.
      firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {
        // Handle Errors here.
        var errorCode = error.code;
        var errorMessage = error.message;
        if (errorCode == 'auth/weak-password') {
          alert('La clave secreta es muy débil.');
        } else {
          alert(errorMessage);
        }
        console.log(error);
      });
    }

    /**
     * Sends an email verification to the user.
     */
    function sendEmailVerification() {
      firebase.auth().currentUser.sendEmailVerification().then(function() {
        // Email Verification sent!
        alert('¡Correo de verificación enviado!');
      });
    }

    function sendPasswordReset() {
      var email = document.getElementById('email').value;
      firebase.auth().sendPasswordResetEmail(email).then(function() {
        // Password Reset Email Sent!
        alert('¡Correo de reseteo de clave secreta enviado!');
      }).catch(function(error) {
        // Handle Errors here.
        var errorCode = error.code;
        var errorMessage = error.message;
        if (errorCode == 'auth/invalid-email') {
          alert(errorMessage);
        } else if (errorCode == 'auth/user-not-found') {
          alert(errorMessage);
        }
        console.log(error);
      });
    }

	/* SE INSTALAN LAS FUNCIONES DE LA APP PARA SU USO EN initApp() */
const nombreusuariopanel = document.getElementById("nombreusuariopanel");
const organizacionusuariopanel = document.getElementById("organizacionusuariopanel");			
const cargousuariopanel = document.getElementById("cargousuariopanel");			
const correousuariopanel = document.getElementById("correousuariopanel");
/* Llamando la base de datos de firestore */
const db = firebase.firestore();
		// Get a reference to the storage service, which is used to create references in your storage bucket
const storage = firebase.storage();

// Create a storage reference from our storage service
const storageRef = storage.ref();
	
	function renderpanelusuario(doc){
							let email = document.createElement('span');
							let nombre = document.createElement('span');
							let organizacion = document.createElement('span');
							let cargo = document.createElement('span');
							email.textContent="Correo electrónico: "+doc.data().email;
							nombre.textContent="Nombre de usuario: "+doc.data().nombre;
							organizacion.textContent="Organización: "+doc.data().organizacion;
							cargo.textContent="Cargo en tu organización: "+doc.data().cargo;
							nombreusuariopanel.appendChild(nombre);
							organizacionusuariopanel.appendChild(organizacion);
							correousuariopanel.appendChild(email);
							cargousuariopanel.appendChild(cargo);
							}
	
	function limpiapanelusuario(){
		while (nombreusuariopanel.hasChildNodes()){
		nombreusuariopanel.removeChild(nombreusuariopanel.firstChild);};
		while (organizacionusuariopanel.hasChildNodes()){		
		organizacionusuariopanel.removeChild(organizacionusuariopanel.firstChild);};
		while(correousuariopanel.hasChildNodes()){
		correousuariopanel.removeChild(correousuariopanel.firstChild);};
		while (cargousuariopanel.hasChildNodes()){
		cargousuariopanel.removeChild(cargousuariopanel.firstChild);}
	}
		
	function guardaremaillocalStorage(nombre){
			localStorage.setItem("correousuario",nombre);
			}
	function guardaridusuariolocalStorage(doc){
			localStorage.setItem("idusuario",doc.id);
			}

	function obteneridusuariolocalStorage(){
		if (localStorage.getItem("idusuario")){
		let idusuario = localStorage.getItem("idusuario");
			return idusuario;
		}else{
			console.log("No hay entradas en el localStorage")
		}
	}
	function obteneremailusuariolocalStorage(){
		if (localStorage.getItem("correousuario")){
		let correousuario = localStorage.getItem("correousuario");
			return correousuario;
		}else{
			console.log("No hay entradas en el localStorage")
		}
	}
	
		/* funcion async para agregar usuarios con un email en la bd*/
	
	async function agregausuario(email,uid){
		try{
			var nuevousuario = await db.collection("usuarios").doc(uid).set({
			grado:	"cliente",
			nombre:	"",
			email:	email,
			organizacion: "",
			cargo:	"",
			estado:	"nuevo"
							})
			var doc= await db.collection("usuarios").doc(uid).get();
			limpiapanelusuario();
			renderpanelusuario(doc);
			guardaridusuariolocalStorage(doc);
			} catch(error){console.log(error.message);}
		}
    /**
     * initApp handles setting up UI event listeners and registering Firebase auth listeners:
     *  - firebase.auth().onAuthStateChanged: This listener is called when the user is signed in or
     *    out, and that is where we update the UI.
     */
	
	
	
    function initApp() {
      // Listening for auth state changes.
      firebase.auth().onAuthStateChanged(function(user) {
      document.getElementById('quickstart-verify-email').disabled = true;
	  const panelaccesofuera = document.getElementById("panelaccesofuera");
	  const panelaccesodentro = document.getElementById("panelaccesodentro");
	  const paneladministrador=document.getElementById("paneladministrador");
	  paneladministrador.style.display="none";
		  if (user) {
          // User is signed in.
		  panelaccesofuera.style.display="none";
          var displayName = user.displayName;
          var email = user.email;
          var emailVerified = user.emailVerified;
          var photoURL = user.photoURL;
          var isAnonymous = user.isAnonymous;
          var uid = user.uid;
          var providerData = user.providerData;
		  guardaremaillocalStorage(email); 
          document.getElementById('quickstart-sign-in-status').textContent = 'Ingresado al sitio';
          document.getElementById('quickstart-sign-in').textContent = 'Salir';
          document.getElementById('quickstart-account-details').textContent = JSON.stringify(user, null, '  ');
			  /* LUEGO SE INCLUYE ACÁ TODA LA FUNCIONALIDAD DE LA APP*/
			  /*Se reivisa si existe usuario, sino existe se crea sino se cargan sus datos*/
			  
    	  db.collection('usuarios').where("email","==", email).get().then((querySnapshot)=>{
			if (querySnapshot.size>0){
				querySnapshot.forEach((doc) => {
								var grado=doc.data().grado;
								if(grado=="administrador"){
									panelaccesodentro.style.display="none";
									paneladministrador.style.display="block";
									todoslosemailsusuarios();
								}else{
								limpiapanelusuario();
								renderpanelusuario(doc);
								guardaridusuariolocalStorage(doc);
								panelaccesodentro.style.display="block";
								}
			})}else{
					agregausuario(email,uid);panelaccesodentro.style.display="block"; 
					}}).catch((error) => {console.error("Error al verificar la base de datos: ", error);});
			  /* FIN DE LAS FUNCIONES DE LA APP*/
												  
          if (!emailVerified) {
            document.getElementById('quickstart-verify-email').disabled = false;
			            }
        } else {
          // User is signed out.
			panelaccesodentro.style.display="none";
  			panelaccesofuera.style.display="block";
			limpiapanelusuario();
		  document.getElementById('quickstart-sign-in-status').textContent = 'Egresado del sitio';
          document.getElementById('quickstart-sign-in').textContent = 'Ingresar';
          document.getElementById('quickstart-account-details').textContent = "";
        }
        document.getElementById('quickstart-sign-in').disabled = false;
      });

      document.getElementById('quickstart-sign-in').addEventListener('click', toggleSignIn, false);
      document.getElementById('quickstart-sign-up').addEventListener('click', handleSignUp, false);
      document.getElementById('quickstart-verify-email').addEventListener('click', sendEmailVerification, false);
      document.getElementById('quickstart-password-reset').addEventListener('click', sendPasswordReset, false);
    }

    window.onload = function() {
      initApp();
    };

	function salirdelsistema(){
			logout();
		}
		
	</script>
<script script id="userapp" type="application/javascript">
function $(x){
			return document.getElementById(x);
		}
	
	/*ESTO HACE PARTE DESPUES DEL SCRIPT GENERAL DEL PANEL CONTROl*/
/*programando mouse over de los botones controles*/
let botonmensaje=document.getElementById("botonmensajeria");
const panel1 = document.getElementById("panelboton1");
botonmensaje.addEventListener('mouseover', ()=>{panel1.style.display='block';} );
botonmensaje.addEventListener('mouseleave', ()=>{panel1.style.display='none';} );

let botonreuniones=document.getElementById("botonreuniones");
const panel2 = document.getElementById("panelboton2");
botonreuniones.addEventListener('mouseover', ()=>{panel2.style.display='block';} );
botonreuniones.addEventListener('mouseleave', ()=>{panel2.style.display='none';} );
let botonrequerimientos=document.getElementById("botonrequerimientos");
const panel3 = document.getElementById("panelboton3");
botonrequerimientos.addEventListener('mouseover', ()=>{panel3.style.display='block';} );
botonrequerimientos.addEventListener('mouseleave', ()=>{panel3.style.display='none';} );
let botonarchivo=document.getElementById("botonarchivos");
const panel4 = document.getElementById("panelboton4");
botonarchivos.addEventListener('mouseover', ()=>{panel4.style.display='block';} );
botonarchivos.addEventListener('mouseleave', ()=>{panel4.style.display='none';} );
		/*variables de paneles*/
const panelmensajeria = document.getElementById("panelmensajeria");
const panelreuniones = document.getElementById("panelreuniones");
const panelrequerimientos = document.getElementById("panelrequerimientos");
const panelarchivos = document.getElementById("panelarchivos");
const paneldatosusuario =$("paneldatosusuario");
const panelagradecimiento=$("panelagradecimiento");
const panelbienvenido=$("panelbienvenido");
const mensajeria=document.getElementById('mensajeria');
const reuniones=document.getElementById('reuniones');
const datosusuarioform=document.getElementById("datosusuarioform");
const panellateral=$("panellateral");
/* A continuación el despliegue y cierre de los paneles laterales*/

			function desplieguemsj(){
				while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
						panelbienvenido.style.display="none";
						panelagradecimiento.style.display="none";
						paneldatosusuario.style.display="none";
						panelreuniones.style.display="none";
						panelrequerimientos.style.display="none";
						panelarchivos.style.display="none";
						panelmensajeria.style.display="block";
						panelmensajeria.style.width="90%";}	;
			function desplieguereuniones(){
				while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
						panelbienvenido.style.display="none";
						panelagradecimiento.style.display="none";
						paneldatosusuario.style.display="none";
						panelmensajeria.style.display="none";
						panelrequerimientos.style.display="none";
						panelarchivos.style.display="none";
						panelreuniones.style.display="block";
						panelreuniones.style.width="90%";}	;
			function desplieguerequerimientos(){
				while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
						panelbienvenido.style.display="none";
						panelagradecimiento.style.display="none";		
						paneldatosusuario.style.display="none";
						panelreuniones.style.display="none";
						panelmensajeria.style.display="none";
						panelarchivos.style.display="none";
						panelrequerimientos.style.display="block";
						panelrequerimientos.style.width="90%";}	;
			function desplieguearchivos(){
						limpiapanelarchivos();
				while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
						panelbienvenido.style.display="none";
						panelagradecimiento.style.display="none";
						paneldatosusuario.style.display="none";
						panelreuniones.style.display="none";
						panelrequerimientos.style.display="none";
						panelmensajeria.style.display="none";
						panelarchivos.style.display="block";
						panelarchivos.style.width="90%";}	;
			function despliegedatosusuariofrom(){
				while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
						panelbienvenido.style.display="none";				
						panelagradecimiento.style.display="none";
						panelreuniones.style.display="none";
						panelmensajeria.style.display="none";
						panelarchivos.style.display="none";
						panelrequerimientos.style.display="none";
						paneldatosusuario.style.display="block";
						paneldatosusuario.style.width="90%";
			};
			function cierrepanelagradecimiento(){
						panelagradecimiento.style.display="none";
			}
			function cierrepaneldatosusario(){
						datosusuarioform[1,2,3].form.reset();
						panelreuniones.style.display="none";
						panelmensajeria.style.display="none";
						panelarchivos.style.display="none";
						panelrequerimientos.style.display="none";
						paneldatosusuario.style.display="none";
			};
			function cierrepanelmsj(){
						mensajeria[1,2,3].form.reset();
						panelmensajeria.style.display="none";
						var output = document.getElementById('fileList');
						output.innerHTML = "";
						panelreuniones.style.display="none";
						panelrequerimientos.style.display="none";
						panelarchivos.style.display="none";}
			function cierrepanelreuniones(){
						panelmensajeria.style.display="none";
						panelreuniones.style.display="none";
						panelrequerimientos.style.display="none";
						panelarchivos.style.display="none";
						reuniones[1,2,3,4].form.reset();
						const emailList=document.getElementById("emailList");
						emailList.remove();
						const participantesadicionales=document.getElementById('participantesadicionales');
						const div = document.createElement("div");
						div.id="emailList";
						participantesadicionales.append(div);
						iparticipante=1}
			function volverpanelrequerimientos(){
						var formulariotraduccion = document.getElementById('formulariotraduccion')
						var formularioinformepericial = document.getElementById('formularioinformepericial')
						var formulariorespuestapericial = document.getElementById('formulariorespuestapericial')
						var formulariobea = document.getElementById('formulariobea')
						var formularioredaccion = document.getElementById('formularioredaccion')
						var formulariocorreccionpliego = document.getElementById('formulariocorreccionpliego')
						var formularioinfraccion = document.getElementById('formularioinfraccion')
						var formularioelo = document.getElementById('formularioelo')
						var formularionulidad = document.getElementById('formularionulidad')
						formulariotraduccion.style.display="none";
						formularioinformepericial.style.display="none";
						formulariorespuestapericial.style.display="none";
						formulariobea.style.display="none"
						formularioredaccion.style.display="none";
						formulariocorreccionpliego.style.display="none";
						formularioinfraccion.style.display="none";
						formularioelo.style.display="none";
						formularionulidad.style.display="none";
						requerimientos=document.getElementById('requerimientos');
						requerimientos.style.display="block";}
			function cierrepanelrequerimientos(){				
						var formulariotraduccion = document.getElementById('formulariotraduccion')
						formulariotraduccion[1,2,3,4,5,6].form.reset();
						var formularioinformepericial = document.getElementById('formularioinformepericial')
						formularioinformepericial[1,2,3,4,5,6].form.reset();
						var formulariorespuestapericial = document.getElementById('formulariorespuestapericial')
						formulariorespuestapericial[1,2,3,4,5,6].form.reset();
						var formulariobea = document.getElementById('formulariobea')
						formulariobea[1,2,3,4,5,6].form.reset();
						var formularioredaccion = document.getElementById('formularioredaccion')
						formularioredaccion[1,2,3,4,5,6,7,8].form.reset();
						const emailListredaccion=document.getElementById("emailListredaccion");
						emailListredaccion.remove();
						const participantesredaccionadicionales=document.getElementById('participantesredaccionadicionales');
						const div = document.createElement("div");
						div.id="emailListredaccion";
						participantesredaccionadicionales.append(div);
						iparticipanteredaccion=1
						var formulariocorreccionpliego = document.getElementById('formulariocorreccionpliego')
						formulariocorreccionpliego[1,2,3,4,5,6].form.reset();
						var formularioinfraccion = document.getElementById('formularioinfraccion')
						formularioinfraccion[1,2,3,4,5,6].form.reset();
						var formularioelo = document.getElementById('formularioelo')
						formularioelo[1,2,3,4,5,6].form.reset();
						var formularionulidad = document.getElementById('formularionulidad')
						formularionulidad[1,2,3,4,5].form.reset();
						var output2 = document.getElementById('fileListtraduccion');
						output2.innerHTML = "";
						var output3 = document.getElementById('fileListinformepericial');
						output3.innerHTML = "";
						var output4 = document.getElementById('fileListrespuestapericial');
						output4.innerHTML = "";
						var output5 = document.getElementById('fileListbea');
						output5.innerHTML = "";
						var output6 = document.getElementById('fileListcorreccionpliego');
						output6.innerHTML = "";
						var output7 = document.getElementById('fileListinfraccion');
						output7.innerHTML = "";
						var output8 = document.getElementById('fileListelo');
						output8.innerHTML = "";
						var output9 = document.getElementById('fileListredaccion');
						output9.innerHTML = "";
						formulariotraduccion.style.display="none";
						formularioinformepericial.style.display="none";
						formulariorespuestapericial.style.display="none";
						formulariobea.style.display="none";
						formularioredaccion.style.display="none";
						formulariocorreccionpliego.style.display="none";
						formularioinfraccion.style.display="none";
						formularioelo.style.display="none";
						formularionulidad.style.display="none";
						panelmensajeria.style.display="none";
						panelreuniones.style.display="none";
						panelrequerimientos.style.display="none";
						panelarchivos.style.display="none";
						requerimientos=document.getElementById('requerimientos');
						requerimientos.style.display="block";	
			}
			function limpiapanelarchivos(){
				while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
						var mensajeriaarchivostabla = document.getElementById("mensajeriaarchivostabla");
						mensajeriaarchivostabla.style.display="none";
						var reunionesarchivostabla = document.getElementById("reunionesarchivostabla");
						reunionesarchivostabla.style.display="none";
						var requerimientosarchivostabla = document.getElementById("requerimientosarchivostabla");
						requerimientosarchivostabla.style.display="none";
						var documentosarchivostabla = document.getElementById("documentosarchivostabla");
						documentosarchivostabla.style.display="none";
						var tabmensajes = document.getElementById("tabmensajes");
						tabmensajes.style.opacity=1;
						var tabreuniones = document.getElementById("tabreuniones");
						tabreuniones.style.opacity=1;
						var tabrequerimientos = document.getElementById("tabrequerimientos");
						tabrequerimientos.style.opacity=1;
						var tabdocumentos = document.getElementById("tabdocumentos");
						tabdocumentos.style.opacity=1;
			}
			function cierrepanelarchivos(){
				while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
						panelmensajeria.style.display="none";
						panelreuniones.style.display="none";
						panelrequerimientos.style.display="none";
						panelarchivos.style.display="none";
						limpiapanelarchivos();
						}
				
/*A continuación un script para listar documentos múltiples cargados en un input "file" del panel de mensajes */
			updateList = function() {
								var input = document.getElementById('file');
								var output = document.getElementById('fileList');
								var children = "";
								for (var i = 0; i < input.files.length; ++i) {
											children += '<li>' + input.files.item(i).name + '</li>';
													}
								output.innerHTML = '<ul>'+children+'</ul>';
							}			
/*A continuación un script para listar email múltiples cargados en un input "email" del panel de reuniones*/
let iparticipante=1;
			function agregaparticipante() {
						 iparticipante++;
						 const emailList=document.getElementById('emailList');
						 const input = document.createElement("input");
						input.type="email";input.className="participante";input.id="participante"+iparticipante;
						 emailList.append(input);
								}
/*A CONTINUACIÓN LAS FUNCIONES PARA AGREGAR MÚLTIPLES ARICHIVOS Y CORREOS DESDE EL PANEL DE REQUERIMIENTOS*/
		
		/*A continuación un script para listar documentos múltiples cargados en un input "file"*/ 
			updateListtraduccion = function() {
								var input2 = document.getElementById('filetraduccion');
								var output2 = document.getElementById('fileListtraduccion');
								var children2 = "";
								for (var i = 0; i < input2.files.length; ++i) {
											children2 += '<li>' + input2.files.item(i).name + '</li>';
													}
								output2.innerHTML = '<ul>'+children2+'</ul>';
								}

		/*A continuación un script para listar documentos múltiples cargados en un input "fileinformepericial"*/ 
			updateListinformepericial = function() {
								var input3 = document.getElementById('fileinformepericial');
								var output3 = document.getElementById('fileListinformepericial');
								var children3 = "";
								for (var i = 0; i < input3.files.length; ++i) {
											children3 += '<li>' + input3.files.item(i).name + '</li>';
													}
								output3.innerHTML = '<ul>'+children3+'</ul>';}
		/*A continuación un script para listar documentos múltiples cargados en un input "fileinformepericial" */
			updateListrespuestapericial = function() {
								var input4 = document.getElementById('filerespuestapericial');
								var output4 = document.getElementById('fileListrespuestapericial');
								var children4 = "";
								for (var i = 0; i < input4.files.length; ++i) {
											children4 += '<li>' + input4.files.item(i).name + '</li>';
													}
								output4.innerHTML = '<ul>'+children4+'</ul>';
								}
		/*A continuación un script para listar documentos múltiples cargados en un input "filebea" */
			updateListbea = function() {
								var input5 = document.getElementById('filebea');
								var output5 = document.getElementById('fileListbea');
								var children5 = "";
								for (var i = 0; i < input5.files.length; ++i) {
											children5 += '<li>' + input5.files.item(i).name + '</li>';
													}
								output5.innerHTML = '<ul>'+children5+'</ul>';
								}
		/*A continuación un script para listar documentos múltiples cargados en un input "fileredaccion" */
				updateListredaccion = function() {
								var input9 = document.getElementById('fileredaccion');
								var output9 = document.getElementById('fileListredaccion');
								var children9 = "";
								for (var i = 0; i < input9.files.length; ++i) {
											children9 += '<li>' + input9.files.item(i).name + '</li>';
													}
								output9.innerHTML = '<ul>'+children9+'</ul>';
								}
			/*A continuación un script para listar email múltiples cargados en un input "emailredaccion" */
			let iparticipanteredaccion=1;
			function agregaparticipanteredaccion() {
						 iparticipanteredaccion++;
						 const emailListredaccion=document.getElementById('emailListredaccion');
						 const input = document.createElement("input");
						input.type="email";input.className="participante";input.id="participanteredaccion"+iparticipante;
						 emailListredaccion.append(input);
								}
		/*A continuación un script para listar documentos múltiples cargados en un input "filecorreccionpliego" */
			updateListcorreccionpliego = function() {
								var input6 = document.getElementById('filecorreccionpliego');
								var output6 = document.getElementById('fileListcorreccionpliego');
								var children6 = "";
								for (var i = 0; i < input6.files.length; ++i) {
											children6 += '<li>' + input6.files.item(i).name + '</li>';
													}
								output6.innerHTML = '<ul>'+children6+'</ul>';
								}
		/*A continuación un script para listar documentos múltiples cargados en un input "fileinfraccion" */
			updateListinfraccion = function() {
								var input7 = document.getElementById('fileinfraccion');
								var output7 = document.getElementById('fileListinfraccion');
								var children7 = "";
								for (var i = 0; i < input7.files.length; ++i) {
											children7 += '<li>' + input7.files.item(i).name + '</li>';
													}
								output7.innerHTML = '<ul>'+children7+'</ul>';
								}
						//A continuación un script para listar documentos múltiples cargados en un input "fileelo" 
			updateListelo = function() {
								var input8 = document.getElementById('fileelo');
								var output8 = document.getElementById('fileListelo');
								var children8 = "";
								for (var i = 0; i < input8.files.length; ++i) {
											children8 += '<li>' + input8.files.item(i).name + '</li>';
													}
								output8.innerHTML = '<ul>'+children8+'</ul>';
								}
	/* a continuación las funciones de los botones de requerimientos para aparecer los forms en el panel -*/
	
		function nuevatraduccion(){
			
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";			
			formulariotraduccion=document.getElementById('formulariotraduccion');
			formulariotraduccion.style.display="block";			
		}
		function nuevabusqueda(){
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";
			formulariobea=document.getElementById('formulariobea');
			formulariobea.style.display="block";
		}
		function nuevaestudioinfraccion(){			
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";
			formularioinfraccion=document.getElementById('formularioinfraccion');
			formularioinfraccion.style.display="block";	}
		function nuevainformepericial(){			
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";
		    formularioinformepericial=document.getElementById('formularioinformepericial');
			formularioinformepericial.style.display="block";	
		
		}
		function nuevaredaccion(){			
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";
			formularioredaccion=document.getElementById('formularioredaccion');
			formularioredaccion.style.display="block";
		}
 		function nuevaelo(){
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";
			formularioelo=document.getElementById('formularioelo');
			formularioelo.style.display="block";	}
		function nuevarespuestapericial(){			
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";
		    formulariorespuestapericial=document.getElementById('formulariorespuestapericial');
			formulariorespuestapericial.style.display="block";	}
		function nuevarevision(){			
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";
			formulariocorreccionpliego=document.getElementById('formulariocorreccionpliego');
			formulariocorreccionpliego.style.display="block";	}
 		function nuevanulidad(){			
			requerimientos=document.getElementById('requerimientos');
			requerimientos.style.display="none";
			formularionulidad=document.getElementById('formularionulidad');
			formularionulidad.style.display="block";}
	</script>
<script id="submitformularios">
			/* funcioón traductora de fecha al español, pide un timeStamp y retorna un string*/
		function traducefecha(timeStamp){
		var dia=timeStamp.getDate();
		var mes=timeStamp.getMonth();
		var year=timeStamp.getFullYear();
		var mescompleto="";
		var fechacompleta="";
		if (mes==1){mescompleto="enero";};
		if (mes==2){mescompleto="febrero";};
		if (mes==3){mescompleto="marzo";};
		if (mes==4){mescompleto="abril";};
		if (mes==5){mescompleto="mayo";};
		if (mes==6){mescompleto="junio";};
		if (mes==7){mescompleto="julio";};
		if (mes==8){mescompleto="agosto";};
		if (mes==9){mescompleto="septiembre";};
		if (mes==10){mescompleto="octubre";};
		if (mes==11){mescompleto="noviembre";};
		if (mes==12){mescompleto="diciembre";};
		fechacompleta=dia+" de "+mescompleto+" "+year;
		return fechacompleta;
	}
						/* funcioón traductora de fecha al español desde un form-submit, pide un string y retorna un string*/
		function traducefechaform(timeString){
		var year=timeString.slice(0,4);
		var mes=timeString.slice(5,7);
		var dia=timeString.slice(8,10);
		var mescompleto="";
		var fechacompleta="";
		if (mes==1){mescompleto="enero";};
		if (mes==2){mescompleto="febrero";};
		if (mes==3){mescompleto="marzo";};
		if (mes==4){mescompleto="abril";};
		if (mes==5){mescompleto="mayo";};
		if (mes==6){mescompleto="junio";};
		if (mes==7){mescompleto="julio";};
		if (mes==8){mescompleto="agosto";};
		if (mes==9){mescompleto="septiembre";};
		if (mes==10){mescompleto="octubre";};
		if (mes==11){mescompleto="noviembre";};
		if (mes==12){mescompleto="diciembre";};
		fechacompleta=dia+" de "+mescompleto+" "+year;
		return fechacompleta;
	}
		/* Esto es un script para extraer la ruta de archivo de un conjunto de archivos*/
		function rutaarchivos(file){
							const fileList = file.files;
							var numFiles = fileList.length;
							var filepath="";
							var filename="";
							filepath=file.value;
							let L=fileList[0].name.length;	
							filepath=filepath.slice(0,-L);
							return filepath;
							};
		
		/*función de actualización o relleno de datos*/
		function datosusuariosubmit(form){
			var nombreusuario=form.nombreusuario.value;
			var organizacionusuario=form.organizacionusuario.value;
			var cargousuario=form.cargousuario.value;
		 	let idusuario=obteneridusuariolocalStorage();
			db.collection("usuarios").doc(idusuario).update({
					nombre:	nombreusuario,
					organizacion:	organizacionusuario,	
					cargo:	cargousuario,
					estado:	"actualizado"}).then((doc)=>{console.log("¡Escritura exitosa!");}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepaneldatosusario();
			panelagradecimiento.style.display="block";
					db.collection("usuarios").doc(idusuario).get().then((doc)=>{limpiapanelusuario();renderpanelusuario(doc);}).catch((Error)=>{console.error("Error al escritura: ", error);});
		}	
			
		/* Esto es un script para extraer la info del panel mensajeria y escribir los datos en la db, debe  configurarse para subir los archivos en el storage*/
		function mensajeriasubmit(form){
			var mensaje=form.mensajeusuario.value;
			var refcliente=form.refclientemensajeria.value;
			var refinterna="pendiente";
			var fileList = form.file.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			var fechamensaje = new Date();
			if (form.file.value){
			filepath=rutaarchivos(form.file);}else{
				console.log("No se enviaron archivos.");
			}
			var idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var proceder=false;
			let detallearchivos="";
			var urlarchivos= [];
			var subiendoarchivos=[];
			var nombrearchivos=[];
			var tamañoarchivos=[];
			for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Este archivo es demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
									switch (error.code) {
										case 'storage/unauthorized':
											alert("Error al cargar archivos, intente cambiar el nombre del archivo");
											var docid=localStorage.getItem("docidnow");
											db.collection("usuarios").doc(idusuario).collection("mensajes").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
											break;
										case 'storage/canceled':
										break;
										case 'storage/unknown':
										break;
										}
								},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("mensajes").doc(docid).set({urlarchivos: urlarchivos},{merge:true})
								});});
						}
				db.collection("usuarios").doc(idusuario).collection("mensajes").add({
					fechamensaje:	fechamensaje,
					mensaje:	mensaje,
					cantidadarchivos:	numFiles,
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,	
					detallearchivos:	detallearchivos,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepanelmsj();panelagradecimiento.style.display="block";}
		}
		/* Esto es un script para extraer la info del panel reuniones y escribir los datos en la db, debe configurarse para escribir en la db y subir los archivos en el storage*/
		function reunionessubmit(form){
			var fechadesolicitud = new Date();
			var fechareunion=form.fechareunion.value;
			var mensajereunion=form.mensajereunion.value;
			var refcliente=form.refclientereuniones.value;
			var refinterna="pendiente";
			var invitausuario = form.invitausuario.checked;
			var invitalocal = form.invitalocal.checked;
			var invita="usuario";
			if (invitalocal){
					invita="local";
				};
			var participante1=form.participante1.value;
			var cantidadparticipantes=1;
			var participantesadicionales=form.emailList.hasChildNodes();
			var correoparticipantes=participante1;
			if (participantesadicionales){
				var listaemail = document.getElementById("emailList");
				for(var i=0; i < listaemail.childNodes.length; i++){
					let j=2+i;
					cantidadparticipantes++;
					var emailextra = listaemail.childNodes[i].value;
				console.log("participante n°"+j+": "+emailextra);
					correoparticipantes+=";"+emailextra;
					}
				}
				let idusuario=obteneridusuariolocalStorage();
				let emailusuario=obteneremailusuariolocalStorage();
				db.collection("usuarios").doc(idusuario).collection("reuniones").add({
					fechadesolicitud:	fechadesolicitud,
					fecha: fechareunion,
					mensaje:	mensajereunion,
					invita:	invita,
					cantidadparticipantes:	cantidadparticipantes,	
					correoparticipantes:	correoparticipantes,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then(()=>{console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
				 cierrepanelreuniones();panelagradecimiento.style.display="block"; 	
			}
			
		/*A continuación las funciones de los forms de los 9 requerimientos del panel de requerimientos */
		function reqtraduccionsubmit(form){
			var fechadesolicitud = new Date();
			var fechatraduccion=form.fechatraduccion.value;
			var espanol=form.espanol.checked;
			var frances=form.frances.checked;
			var ingles=form.ingles.checked;
			var cotizatraduccion=form.cotizatraduccion.checked;
			var mensajetraduccion=form.mensajetraduccion.value;
			var refcliente=form.refclientetraduccion.value;
			var refinterna="pendiente";
			var fileList = form.filetraduccion.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			if (form.filetraduccion.value){
			filepath=rutaarchivos(form.filetraduccion);}else{
				console.log("No se enviaron archivos.");
			}
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var proceder=false;
			let detallearchivos="";
			var nombrearchivos=[];
			var tamañoarchivos=[];
			var urlarchivos= [];
			var subiendoarchivos=[];
				for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Archivo demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					var sleep=[];
					let sleepsum=0;
					sleep.push(0);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
								switch (error.code) {
									case 'storage/unauthorized':
										alert("Error al cargar archivos, intente cambiar el nombre del archivo");
										var docid=localStorage.getItem("docidnow");
										db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
										break;
									case 'storage/canceled':
      								break;
									case 'storage/unknown':
									break;
									}},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({urlarchivos: urlarchivos},{merge:true})
								});});
						}
			db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Traducción de documento",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fechatraduccion,
					espanol:	 espanol,
					frances:	frances,
					ingles:		ingles,
					cotizacion:	cotizatraduccion,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					mensaje:	mensajetraduccion,
					cantidadarchivos:	numFiles,
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,	
					detallearchivos:	detallearchivos,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepanelrequerimientos();panelagradecimiento.style.display="block";}
		}
		function reqinformepericialsubmit(form){
			var fechadesolicitud = new Date();
			var fechainformepericial=form.fechainformepericial.value;
			var espanol=form.espanolinformepericial.checked;
			var frances=form.francesinformepericial.checked;
			var ingles=form.inglesinformepericial.checked;
			var cotizainformepericial=form.cotizainformepericial.checked;
			var mensajeinformepericial=form.mensajeinformepericial.value;
			var refcliente=form.refclienteinformepericial.value;
			var refinterna="pendiente";
			var fileList = form.fileinformepericial.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			if (form.fileinformepericial.value){
			filepath=rutaarchivos(form.fileinformepericial);}else{
				console.log("No se enviaron archivos.");
			}
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var proceder=false;
			let detallearchivos="";
			var nombrearchivos=[];
			var tamañoarchivos=[];
			var urlarchivos= [];
			var subiendoarchivos=[];
				for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Archivo demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
								switch (error.code) {
									case 'storage/unauthorized':
										alert("Error al cargar archivos, intente cambiar el nombre del archivo");
										var docid=localStorage.getItem("docidnow");
										db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
									break;
									case 'storage/canceled':
      								break;
									case 'storage/unknown':
									break;
									}},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({urlarchivos: urlarchivos},{merge:true});
								});});
						}
			db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Análisis de informe pericial",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fechainformepericial,
					espanol:	 espanol,
					frances:	frances,
					ingles:		ingles,
					cotizacion:	cotizainformepericial,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					mensaje:	mensajeinformepericial,
					cantidadarchivos:	numFiles,
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,	
					detallearchivos:	detallearchivos,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepanelrequerimientos();panelagradecimiento.style.display="block";}
		}
			
		function reqrespuestapericialsubmit(form){
			var fechadesolicitud = new Date();
			var fecharespuestapericial=form.fecharespuestapericial.value;
			var espanol=form.espanolrespuestapericial.checked;
			var frances=form.francesrespuestapericial.checked;
			var ingles=form.inglesrespuestapericial.checked;
			var cotizarespuestapericial=form.cotizarespuestapericial.checked;
			var mensajerespuestapericial=form.mensajerespuestapericial.value;			
			var refcliente=form.refclienterespuestapericial.value;
			var refinterna="pendiente";
			var fileList = form.filerespuestapericial.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			if (form.filerespuestapericial.value){
			filepath=rutaarchivos(form.filerespuestapericial);}else{
				console.log("No se enviaron archivos.");
			}
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var proceder=false;
			let detallearchivos="";
			var urlarchivos= [];
			var subiendoarchivos=[];
			var nombrearchivos=[];
			var tamañoarchivos=[];
				for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Archivo demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
								switch (error.code) {
									case 'storage/unauthorized':
										alert("Error al cargar archivos, intente cambiar el nombre del archivo");
											var docid=localStorage.getItem("docidnow");										db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
									break;
									case 'storage/canceled':
      								break;
									case 'storage/unknown':
									break;
									}},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({urlarchivos: urlarchivos},{merge:true});
								});});
						}
			db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Respuesta a informe pericial",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fecharespuestapericial,
					espanol:	 espanol,
					frances:	frances,
					ingles:		ingles,
					cotizacion:	cotizarespuestapericial,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					mensaje:	mensajerespuestapericial,
					cantidadarchivos:	numFiles,	
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,	
					detallearchivos:	detallearchivos,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepanelrequerimientos();panelagradecimiento.style.display="block";}
		}
		function reqbeasubmit(form){
			var fechadesolicitud = new Date();
			var fechabea=form.fechabea.value;
			var espanol=form.espanolbea.checked;
			var frances=form.francesbea.checked;
			var ingles=form.inglesbea.checked;
			var cotizabea=form.cotizabea.checked;
			var mensajebea=form.mensajebea.value;
			var refcliente=form.refclientebea.value;
			var refinterna="pendiente";
			var fileList = form.filebea.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			if (form.filebea.value){
			filepath=rutaarchivos(form.filebea);}else{
				console.log("No se enviaron archivos.");
			}
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var proceder=false;
			let detallearchivos="";
			var urlarchivos= [];
			var subiendoarchivos=[];
			var nombrearchivos=[];
			var tamañoarchivos=[];
			for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Archivo demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
								switch (error.code) {
									case 'storage/unauthorized':
										alert("Error al cargar archivos, intente cambiar el nombre del archivo");
										var docid=localStorage.getItem("docidnow");
										db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
									break;
									case 'storage/canceled':
      								break;
									case 'storage/unknown':
									break;
									}},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({urlarchivos: urlarchivos},{merge:true});
								});});
				}
				db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Informe de búsqueda y estudio de patentabilidad",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fechabea,
					espanol:	 espanol,
					frances:	frances,
					ingles:		ingles,
					cotizacion:	cotizabea,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					mensaje:	mensajebea,
					cantidadarchivos:	numFiles,
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,
					detallearchivos:	detallearchivos,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: "+error.message);});
			cierrepanelrequerimientos();panelagradecimiento.style.display="block";}
		}
		function reqredaccionsubmit(form){
			var fechadesolicitud = new Date();
			var fecharedaccion=form.fecharedaccion.value;
			var mensajeredaccion=form.mensajeredaccion.value;
			var refcliente=form.refclienteredaccion.value;
			var refinterna="pendiente";
			var cotizaredaccion=form.cotizaredaccion.checked;
			var invitausuario = form.invitaredaccionusuario.checked;
			var invitalocal = form.invitaredaccionlocal.checked;
			var invita="usuario";
			if (invitalocal){
					invita="local";
				};
			var participante1=form.participante1.value;
			var cantidadparticipantes=1;
			var participantesadicionales=form.emailListredaccion.hasChildNodes();
			var correoparticipantes=participante1;
			if (participantesadicionales){
				var listaemail = document.getElementById("emailListredaccion");
				for(var i=0; i < listaemail.childNodes.length; i++){
					let j=2+i;
					cantidadparticipantes++;
					var emailextra = listaemail.childNodes[i].value;
				console.log("participante n°"+j+": "+emailextra);
					correoparticipantes+=";"+emailextra;
					}
				}
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var fileList = form.fileredaccion.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			if (form.fileredaccion.value){
			filepath=rutaarchivos(form.fileredaccion);}else{
				console.log("No se enviaron archivos.");
			}
			var proceder=false;
			let detallearchivos="";
			var urlarchivos= [];
			var subiendoarchivos=[];
			var nombrearchivos=[];
			var tamañoarchivos=[];
				for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Archivo demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
								switch (error.code) {
									case 'storage/unauthorized':
										alert("Error al cargar archivos, intente cambiar el nombre del archivo");
										var docid=localStorage.getItem("docidnow");
										db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
									break;
									case 'storage/canceled':
      								break;
									case 'storage/unknown':
									break;
									}},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({urlarchivos: urlarchivos},{merge:true});
								});});
						}
			db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Redacción de patente",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fecharedaccion,
					invita:	invita,	
					mensaje:	mensajeredaccion,
					cantidadarchivos:	numFiles,
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,
					detallearchivos:	detallearchivos,
					cotizacion:	cotizaredaccion,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					cantidadparticipantes:	cantidadparticipantes,	
					correoparticipantes:	correoparticipantes,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: "+error.message);});
			cierrepanelrequerimientos();panelagradecimiento.style.display="block";}
		}
		function reqcorreccionpliegosubmit(form){
			var fechadesolicitud = new Date();
			var fechacorreccionpliego=form.fechacorreccionpliego.value;
			var espanol=form.espanolcorreccionpliego.checked;
			var frances=form.francescorreccionpliego.checked;
			var ingles=form.inglescorreccionpliego.checked;
			var cotizacorreccionpliego=form.cotizacorreccionpliego.checked;
			var mensajecorreccionpliego=form.mensajecorreccionpliego.value;
			var refcliente=form.refclientecorreccionpliego.value;
			var refinterna="pendiente";
			var fileList = form.filecorreccionpliego.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			if (form.filecorreccionpliego.value){
			filepath=rutaarchivos(form.filecorreccionpliego);}else{
				console.log("No se enviaron archivos.");
			}
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var proceder=false;
			let detallearchivos="";
			var urlarchivos= [];
			var subiendoarchivos=[];
			var nombrearchivos=[];
			var tamañoarchivos=[];
				for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Archivo demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
								switch (error.code) {
									case 'storage/unauthorized':
										alert("Error al cargar archivos, intente cambiar el nombre del archivo");
											var docid=localStorage.getItem("docidnow");
										db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
									break;
									case 'storage/canceled':
      								break;
									case 'storage/unknown':
									break;
									}},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({urlarchivos: urlarchivos},{merge:true});
								});});
						}
			db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Corrección de pliego de reivindicaciones",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fechacorreccionpliego,
					espanol:	 espanol,
					frances:	frances,
					ingles:		ingles,
					cotizacion:	cotizacorreccionpliego,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					mensaje:	mensajecorreccionpliego,
					cantidadarchivos:	numFiles,
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,
					detallearchivos:	detallearchivos,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepanelrequerimientos();panelagradecimiento.style.display="block";}
		}	
		function reqinfraccionsubmit(form){
			var fechadesolicitud = new Date();
			var fechainfraccion=form.fechainfraccion.value;
			var espanol=form.espanolinfraccion.checked;
			var frances=form.francesinfraccion.checked;
			var ingles=form.inglesinfraccion.checked;
			var cotizainfraccion=form.cotizainfraccion.checked;
			var mensajeinfraccion=form.mensajeinfraccion.value;
			var refcliente=form.refclienteinfraccion.value;
			var refinterna="pendiente";
			var fileList = form.fileinfraccion.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			if (form.fileinfraccion.value){
			filepath=rutaarchivos(form.fileinfraccion);}else{
				console.log("No se enviaron archivos.");
			}
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var proceder=false;
			let detallearchivos="";
			var urlarchivos= [];
			var subiendoarchivos=[];
			var nombrearchivos=[];
			var tamañoarchivos=[];
				for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Archivo demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
								switch (error.code) {
									case 'storage/unauthorized':
										alert("Error al cargar archivos, intente cambiar el nombre del archivo");
											var docid=localStorage.getItem("docidnow");
										db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
									break;
									case 'storage/canceled':
      								break;
									case 'storage/unknown':
									break;
									}},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({urlarchivos: urlarchivos},{merge:true});
								});});
						}
			db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Estudio de infracción de patente",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fechainfraccion,
					espanol:	 espanol,
					frances:	frances,
					ingles:		ingles,
					cotizacion:	cotizainfraccion,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					mensaje:	mensajeinfraccion,
					cantidadarchivos:	numFiles,	
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,
					detallearchivos:	detallearchivos,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepanelrequerimientos();panelagradecimiento.style.display="block";}
		}
	
		function reqelosubmit(form){
			var fechadesolicitud = new Date();
			var fechaelo=form.fechaelo.value;
			var espanol=form.espanolelo.checked;
			var frances=form.franceselo.checked;
			var ingles=form.ingleselo.checked;
			var cotizaelo=form.cotizaelo.checked;
			var mensajeelo=form.mensajeelo.value;
			var refcliente=form.refclienteelo.value;
			var refinterna="pendiente";
			var fileList = form.fileelo.files;
			var numFiles = fileList.length;
			var filepath="";
			var filename="";
			var filesize=0;
			if (form.fileelo.value){
			filepath=rutaarchivos(form.fileelo);}else{
				console.log("No se enviaron archivos.");
			}
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			var proceder=false;
			let detallearchivos="";
			var urlarchivos= [];
			var subiendoarchivos=[];
			var nombrearchivos=[];
			var tamañoarchivos=[];
				for (let i = 0; i < numFiles; i++) {
				filesize=fileList[i].size/1000;
				if (filesize>20000){
					proceder=false;
					alert("Archivo demasiado grande, debe ser inferior a 20MB.");
					break;
				}else{
				proceder=true;
					}
				}
			if (proceder){
				for (let i = 0; i < numFiles; i++) {
					filename=fileList[i].name;
					nombrearchivos.push(filename);
					filesize=Math.trunc(fileList[i].size/1000);
					tamañoarchivos.push(filesize);
					console.log(filename+" "+filesize+" "+filepath+filename);
					console.log(idusuario);
					detallearchivos+=filename+" "+filesize+"KB; ";
					var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
					var fileRef = usuariobucketRef.child(filename);
					var subiendoarchivo =fileRef.put(fileList[i]);
					subiendoarchivos.push(subiendoarchivo);
					urlarchivos.push(i);
					subiendoarchivos[i].on(firebase.storage.TaskEvent.STATE_CHANGED,function(snapshot) {
								var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;
								console.log('Upload is ' + progress + '% done');
								switch (snapshot.state) {
									case firebase.storage.TaskState.PAUSED: 
										console.log('Upload is paused');
										break;
									case firebase.storage.TaskState.RUNNING:
										console.log('Upload is running');
										break;
											}
								},function(error) {
								switch (error.code) {
									case 'storage/unauthorized':
										alert("Error al cargar archivos, intente cambiar el nombre del archivo");
										var docid=localStorage.getItem("docidnow");									
										db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({fallo: "cargando archivo: "+filename, estado: "fallado"},{merge:true});
									break;
									case 'storage/canceled':
      								break;
									case 'storage/unknown':
									break;
									}},function() {
							subiendoarchivos[i].snapshot.ref.getDownloadURL().then(function(downloadURL) {
    							console.log('File available at', downloadURL);
								urlarchivos[i]=downloadURL;
								var docid=localStorage.getItem("docidnow");
								db.collection("usuarios").doc(idusuario).collection("requerimientos").doc(docid).set({urlarchivos: urlarchivos},{merge:true});
								});});
						}
			db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Estudio de libertad de operación",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fechaelo,
					espanol:	 espanol,
					frances:	frances,
					ingles:		ingles,
					cotizacion:	cotizaelo,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					mensaje:	mensajeelo,
					cantidadarchivos:	numFiles,	
					nombrearchivos:	nombrearchivos,
					tamañoarchivos:	tamañoarchivos,
					detallearchivos:	detallearchivos,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then((doc)=>{localStorage.setItem("docidnow",doc.id);console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepanelrequerimientos();panelagradecimiento.style.display="block";}
		}	
		function reqnulidadsubmit(form){
			var fechadesolicitud = new Date();
			var fechanulidad=form.fechanulidad.value;
			var espanol=form.espanolnulidad.checked;
			var frances=form.francesnulidad.checked;
			var ingles=form.inglesnulidad.checked;
			var cotizanulidad=form.cotizanulidad.checked;
			var mensajenulidad=form.mensajenulidad.value;
			var refcliente=form.refclientenulidad.value;
			var refinterna="pendiente";
			let idusuario=obteneridusuariolocalStorage();
			let emailusuario=obteneremailusuariolocalStorage();
			db.collection("usuarios").doc(idusuario).collection("requerimientos").add({
					tipoderequerimiento:	"Estudio de nulidad de patente",
					fechadesolicitud:	fechadesolicitud,
					fecha:	fechanulidad,
					espanol:	 espanol,
					frances:	frances,
					ingles:		ingles,
					cotizacion:	cotizanulidad,
					cotizacionvalor:	0,
					cotizacionmoneda:	"UF",
					mensaje:	mensajenulidad,
					emailusuario: emailusuario,
					refcliente:	refcliente,
					refinterna:	refinterna,
					estado:	"nuevo"}).then(()=>{console.log("¡Escritura exitosa!")}).catch((error) =>{console.error("Error al escritura: ", error);});
			cierrepanelrequerimientos();}
		
		/*funciones que muestran y esconden contenido de un mensaje desde la tabla archivo	*/
		function muestraspan(span){
			span.style.display="block";	
			}
		function escondespan(span){
		span.style.display="none";
			}
		
			
		/* leer una linea de la bd para la tabla de archivos en Mensajería */
		function renderdatosmensajeriaenfila(doc){
						let tr = document.createElement('tr');
						var archivosmensajeriatbody =document.getElementById("archivosmensajeriatbody");
						tr.setAttribute("class", "filaarchivos");
						let tdfecha = document.createElement('td');
						let tdcontenido = document.createElement('td');
						let tdcantidadarchivos = document.createElement('td');
						let tdnombrearchivos = document.createElement('td');
						var fecha=doc.data().fechamensaje.toDate();
						tdcontenido.setAttribute("class","celdaarchivos");
						tdnombrearchivos.setAttribute("class","celdaarchivos");
						let tdreferencias = document.createElement('td');			
						tdreferencias.textContent=doc.data().refcliente+" / "+doc.data().refinterna;
						tdreferencias.setAttribute("class","celdaarchivos");
						tdfecha.textContent=traducefecha(fecha);
						tdcontenido.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenido.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdcantidadarchivos.textContent=doc.data().cantidadarchivos;
						tdnombrearchivos.textContent="ver nombre de archivo(s)";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdnombrearchivos.appendChild(span2);
						span2.textContent=doc.data().detallearchivos;
						tr.appendChild(tdreferencias);
						tr.appendChild(tdfecha);
						tr.appendChild(tdcontenido);
						tr.appendChild(tdcantidadarchivos);
						tr.appendChild(tdnombrearchivos);
						archivosmensajeriatbody.appendChild(tr);		
			}
		/* leer una linea de la bd para la tabla de archivos en Reuniones */
		function renderdatosreunionesenfila(doc){
						let tr = document.createElement('tr');
						var reunionesarchivostbody =document.getElementById("reunionesarchivostbody");
						tr.setAttribute("class", "filaarchivos");
						let tdfechasolicitud = document.createElement('td');
						let tdfechareunion = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdparticipantes = document.createElement('td');
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						let tdreferencias = document.createElement('td');			
						tdreferencias.textContent=doc.data().refcliente+" / "+doc.data().refinterna;
						tdreferencias.setAttribute("class","celdaarchivos");
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdparticipantes.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fechareunion=doc.data().fecha;
						tdfechareunion.textContent=traducefechaform(fechareunion);
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdparticipantes.textContent="ver cantidad y correo de participantes";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdparticipantes.appendChild(span2);
						var correosseparados="";
						let i=0;
						var arreglodecorreos=doc.data().correoparticipantes.split(";");
						while (i<doc.data().cantidadparticipantes){
							correosseparados+=" "+arreglodecorreos[i];
							i++;
						}
						span2.textContent=doc.data().cantidadparticipantes+" participante(s) con el (o  los) siguiente(s) correo(s) electrónico(s): "+correosseparados;
						tr.appendChild(tdreferencias);			
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdfechareunion);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdparticipantes);
						reunionesarchivostbody.appendChild(tr);		
			}
		/* leer una linea de la bd para la tabla de archivos en Requerimientos */
		function renderdatosrequerimientosenfila(doc){
						let tr = document.createElement('tr');
						var requerimientosarchivostbody =document.getElementById("requerimientosarchivostbody");
						tr.setAttribute("class", "filaarchivos");
						let tdfechasolicitud = document.createElement('td');
						let tdtipoderequerimiento = document.createElement('td');
						let tdfecharequerimiento = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdcotizacion = document.createElement('td');
						let tdreferencias = document.createElement('td');			
						tdreferencias.textContent=doc.data().refcliente+" / "+doc.data().refinterna;			
						tdreferencias.setAttribute("class","celdaarchivos");
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdcotizacion.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fecharequerimiento=doc.data().fecha;
						tdfecharequerimiento.textContent=traducefechaform(fecharequerimiento);
						tdtipoderequerimiento.textContent=doc.data().tipoderequerimiento;
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdcotizacion.textContent="ver cotización";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdcotizacion.appendChild(span2);
						if (doc.data().cotizacionvalor==0){span2.textContent="Evaluación de las cotizaciones pendientes";}else{
							span2.textContent="Cotización valorada en "+doc.data().cotizacionvalor+" "+doc.data().cotizacionmoneda;
						};
						tr.appendChild(tdreferencias);
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdtipoderequerimiento);
						tr.appendChild(tdfecharequerimiento);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdcotizacion);
						requerimientosarchivostbody.appendChild(tr);		
			}
		
	
	/* editar una referencia cliente en un doc de la bd en Mensajeria*/
	async function escribirrefrenciacliente(fila,subcollection){
		try{
			var form=panellateral.lastElementChild.firstElementChild;
			let docidnow=localStorage.getItem("docidnow");
			let idusuario=localStorage.getItem("idusuario");
			var referenciacliente=form[0].value;
			db.collection("usuarios").doc(idusuario).collection(subcollection).doc(docidnow).update({refcliente: referenciacliente});
			panellateral.lastElementChild.remove();
		}catch(error){console.error("error en escrbirreferencia cliente : "+error.message);}
	}
	
		 function editarreferencia(fila,docid,subcollection){
			let subcoleccion="";
			if(subcollection==1){subcoleccion="subcollection1"}
			if(subcollection==2){subcoleccion="subcollection2"}
			if(subcollection==3){subcoleccion="subcollection3"}
			var panel=document.createElement("div");
			panel.setAttribute("class","paneldesplegado2");
			panel.setAttribute("width","90%");
			var form=document.createElement("form");
			form.setAttribute("class","formulario");
			form.setAttribute("action","javascript:escribirrefrenciacliente("+fila+","+subcoleccion+")");
			var p=document.createElement("p");
			p.textContent="Ingresa tu referencia:"
			var input=document.createElement("input");
      	    input.setAttribute("type","text");
			var send=document.createElement("input");
			send.setAttribute("type","submit");
			send.setAttribute("value","enviar");
			form.appendChild(p);
			form.appendChild(input);
			form.appendChild(send);
			localStorage.setItem("docidnow",docid); 
			panel.appendChild(form);
			return panel;
			 }
	

		/*este script hace las funciones del panel de archivo y muestra las tablas*/
			var mensajeriaarchivostabla = document.getElementById("mensajeriaarchivostabla");
			var reunionesarchivostabla = document.getElementById("reunionesarchivostabla");
			var requerimientosarchivostabla = document.getElementById("requerimientosarchivostabla");
			var documentosarchivostabla = document.getElementById("documentosarchivostabla");
			var tabmensajes = document.getElementById("tabmensajes");
			var tabreuniones = document.getElementById("tabreuniones");
			var tabrequerimientos = document.getElementById("tabrequerimientos");
			var tabdocumentos = document.getElementById("tabdocumentos");

	
		function muestratablamensajeria(){
			while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
			mensajeriaarchivostabla.style.display="block";
			reunionesarchivostabla.style.display="none";
			requerimientosarchivostabla.style.display="none";
			documentosarchivostabla.style.display="none";
			tabmensajes.style.opacity=1;
			tabreuniones.style.opacity=0.3;
			tabrequerimientos.style.opacity=0.3;
			tabdocumentos.style.opacity=0.3;
			/*llenar la tabla con datos*/	
			let idusuario=obteneridusuariolocalStorage();
			db.collection("usuarios").doc(idusuario).collection("mensajes").get().then((querysnapshot)=>{
			/* pero primero vaciar la tabla de los datos previos*/
			var archivosmensajeriatbody =document.getElementById("archivosmensajeriatbody");
				while (archivosmensajeriatbody.rows.length>0){
					let i=0;
					archivosmensajeriatbody.rows[i].remove();
					i++;
				};
			/* ahora si se llena la tabla */
				let fila=0;
				querysnapshot.forEach((doc)=>{
					renderdatosmensajeriaenfila(doc);
					const archivosmensajeriatbody=document.getElementById("archivosmensajeriatbody");
					var span=archivosmensajeriatbody.rows[fila].cells[2].firstElementChild;
					var span2=archivosmensajeriatbody.rows[fila].cells[4].firstElementChild;
					var tdcontenido=archivosmensajeriatbody.rows[fila].cells[2];
					var tdnombrearchivos=archivosmensajeriatbody.rows[fila].cells[4];
					var tdreferencias=archivosmensajeriatbody.rows[fila].cells[0];
					fila++
					tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
					tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
					var botonref1=document.createElement("button");
					botonref1.setAttribute("class","botonref");
					botonref1.textContent="editar";
					botonref1.addEventListener('click', () =>{let panel=editarreferencia(fila,doc.id,1);while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}let br=document.createElement("br");panellateral.appendChild(br);panellateral.appendChild(panel);});
					let br=document.createElement("br");
					tdreferencias.appendChild(br);
					tdreferencias.appendChild(botonref1);
				})}).catch((error) =>{console.error("Error al acceder la base de datos: ", error);});
			}
		function muestratablareuniones(){
			while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
			mensajeriaarchivostabla.style.display="none";
			reunionesarchivostabla.style.display="block";
			requerimientosarchivostabla.style.display="none";
			documentosarchivostabla.style.display="none";
			tabmensajes.style.opacity=0.3;
			tabreuniones.style.opacity=1;
			tabrequerimientos.style.opacity=0.3;
			tabdocumentos.style.opacity=0.3;
			/*llenar la tabla con datos*/	
			let idusuario=obteneridusuariolocalStorage();
			db.collection("usuarios").doc(idusuario).collection("reuniones").get().then((querysnapshot)=>{
			/* pero primero vaciar la tabla de los datos previos*/
				var reunionesarchivostbody =document.getElementById("reunionesarchivostbody");
				while (reunionesarchivostbody.rows.length>0){
					let i=0;
					reunionesarchivostbody.rows[i].remove();
					i++;
				};
			/* ahora si se llena la tabla */
				let fila=0;
				querysnapshot.forEach((doc)=>{
					renderdatosreunionesenfila(doc);
					const reunionesarchivostbody=document.getElementById("reunionesarchivostbody");
					var span=reunionesarchivostbody.rows[fila].cells[3].firstElementChild;
					var span2=reunionesarchivostbody.rows[fila].cells[4].firstElementChild;
					var tdcontenidomensaje=reunionesarchivostbody.rows[fila].cells[3];
					var tdparticipantes=reunionesarchivostbody.rows[fila].cells[4];
					var tdreferencias=reunionesarchivostbody.rows[fila].cells[0];
					fila++
					tdcontenidomensaje.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
					tdparticipantes.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
					var botonref2=document.createElement("button");
					botonref2.setAttribute("class","botonref");
					botonref2.textContent="editar";
					botonref2.addEventListener('click', () =>{let panel=editarreferencia(fila,doc.id,2);while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();};let br=document.createElement("br");panellateral.appendChild(br);panellateral.appendChild(panel);});
					let br=document.createElement("br");
					tdreferencias.appendChild(br);
					tdreferencias.appendChild(botonref2);
				})}).catch((error) =>{console.error("Error al acceder la base de datos: ", error);});
				};
		function muestratablarequerimientos(){
			while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();}
			mensajeriaarchivostabla.style.display="none";
			reunionesarchivostabla.style.display="none";
			requerimientosarchivostabla.style.display="block";
			documentosarchivostabla.style.display="none";
			tabmensajes.style.opacity=0.3;
			tabreuniones.style.opacity=0.3;
			tabrequerimientos.style.opacity=1;
			tabdocumentos.style.opacity=0.3;
			/*llenar la tabla con datos*/	
			let idusuario=obteneridusuariolocalStorage();
			db.collection("usuarios").doc(idusuario).collection("requerimientos").get().then((querysnapshot)=>{
			/* pero primero vaciar la tabla de los datos previos*/
				var requerimientosarchivostbody =document.getElementById("requerimientosarchivostbody");
				while (requerimientosarchivostbody.rows.length>0){
					let i=0;
					requerimientosarchivostbody.rows[i].remove();
					i++;
				};
			/* ahora si se llena la tabla */
				let fila=0;
				querysnapshot.forEach((doc)=>{
					renderdatosrequerimientosenfila(doc);
					const requerimientosarchivostbody=document.getElementById("requerimientosarchivostbody");
					var span=requerimientosarchivostbody.rows[fila].cells[4].firstElementChild;
					var span2=requerimientosarchivostbody.rows[fila].cells[5].firstElementChild;
					var tdcontenidomensaje=requerimientosarchivostbody.rows[fila].cells[4];
					var tdcotizacion=requerimientosarchivostbody.rows[fila].cells[5];
					var tdreferencias=requerimientosarchivostbody.rows[fila].cells[0];
					fila++
					tdcontenidomensaje.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
					tdcotizacion.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
					var botonref3=document.createElement("button");
					botonref3.setAttribute("class","botonref");
					botonref3.textContent="editar";
					botonref3.addEventListener('click', () =>{let panel=editarreferencia(fila,doc.id,3);while(panellateral.lastElementChild.id!="panelarchivos"){panellateral.lastElementChild.remove();};let br=document.createElement("br");panellateral.appendChild(br);panellateral.appendChild(panel);});
					let br=document.createElement("br");
					tdreferencias.appendChild(br);
					tdreferencias.appendChild(botonref3);
				})}).catch((error) =>{console.error("Error al acceder la base de datos: ", error);});
		};
		function muestratabladocumentos(){
			/*primero vaciar la tabla de los datos previos*/
			var documentosarchivostbody = $("documentosarchivostbody");
				while (documentosarchivostbody.rows.length>0){
					let i=0;
					documentosarchivostbody.rows[i].remove();
					i++;
				};
			mensajeriaarchivostabla.style.display="none";
			reunionesarchivostabla.style.display="none";
			requerimientosarchivostabla.style.display="none";
			documentosarchivostabla.style.display="block";
			tabmensajes.style.opacity=0.3;
			tabreuniones.style.opacity=0.3;
			tabrequerimientos.style.opacity=0.3;
			tabdocumentos.style.opacity=1;
			/*llenar la tabla con datos*/	
			let idusuario=obteneridusuariolocalStorage();
			var usuariobucketRef = storageRef.child("usuarios/"+idusuario);
			usuariobucketRef.listAll().then((result)=>{
				result.items.forEach((fileRef)=>{
						let tr = document.createElement('tr');
						tr.setAttribute("class", "filaarchivos");
						let tdnombrearchivo = document.createElement('td');
						let tdfechacreacion = document.createElement('td');
						let tdorigen = document.createElement('td');
						let tdsize = document.createElement('td');
						let tddescargar = document.createElement('td');
						let adescargar = document.createElement('a');
						tddescargar.setAttribute("class","celdaarchivos");
						adescargar.textContent="Haz click acá para descargar archivo.";
						tddescargar.appendChild(adescargar);	
						tdnombrearchivo.textContent=fileRef.name;
						let tdreferencias = document.createElement('td');			
						tdreferencias.setAttribute("class","celdaarchivos");
						var origen="";
						var tusreferencias="";
						var nosreferencias="";
						db.collection("usuarios").doc(idusuario).collection("mensajes").where("nombrearchivos","array-contains",fileRef.name).get().then((snapShot)=>{
						snapShot.forEach((doc)=>{
							var fecha=doc.data().fechamensaje.toDate();
							tdfechacreacion.textContent=traducefecha(fecha);
							origen += "Mensaje "
							tdorigen.textContent=origen;
							tusreferencias+=doc.data().refcliente+" ";
							nosreferencias+=doc.data().refinterna+" ";
							tdreferencias.textContent="Tu(s) referencia(s): "+tusreferencias+"/Nuestra(s) referencia(s): "+nosreferencias;
							var nombrearchivos=doc.data().nombrearchivos;
							var tamañoarchivos=doc.data().tamañoarchivos;
							var urlarchivos=doc.data().urlarchivos;
							for (let index=0;index<nombrearchivos.length;index++){
								if(fileRef.name==nombrearchivos[index]){
									tdsize.textContent=tamañoarchivos[index]+" KB";
									if (urlarchivos[index].length>5)
									{adescargar.setAttribute("href",urlarchivos[index]);
									adescargar.setAttribute("download",fileRef.name);}
								}
							}
						})}).catch((error)=>{console.error("error al leer base de datos en mensajes: "+error);});
						db.collection("usuarios").doc(idusuario).collection("requerimientos").where("nombrearchivos","array-contains",fileRef.name).get().then((snapShot)=>{
						snapShot.forEach((doc)=>{
							var fecha=doc.data().fechadesolicitud.toDate();
							tdfechacreacion.textContent=traducefecha(fecha);
							origen += doc.data().tipoderequerimiento+" ";
							tdorigen.textContent=origen;
							tusreferencias+=doc.data().refcliente+" ";
							nosreferencias+=doc.data().refinterna+" ";
							tdreferencias.textContent=tusreferencias+" / "+nosreferencias;
							var nombrearchivos=doc.data().nombrearchivos;
							var tamañoarchivos=doc.data().tamañoarchivos;
							var urlarchivos=doc.data().urlarchivos;
							for (let index2=0;index2<nombrearchivos.length;index2++){
								if(fileRef.name==nombrearchivos[index2]){
									tdsize.textContent=tamañoarchivos[index2]+" KB";
									if (urlarchivos[index2].length>5)
									{adescargar.setAttribute("href",urlarchivos[index2]);
									adescargar.setAttribute("download",fileRef.name);}
								}
							}
						})}).catch((error)=>{console.error("error al leer base de datos en requerimientos: "+error);});
						tr.appendChild(tdnombrearchivo);
						tr.appendChild(tdfechacreacion);
						tr.appendChild(tdorigen);
						tr.appendChild(tdreferencias);
						tr.appendChild(tdsize);
						tr.appendChild(tddescargar);
						documentosarchivostbody.appendChild(tr);
				})}).catch((error)=>{console.error("error al leer servidor de archivos: "+error);});
		}
	
					</script>
<script id="adminapp">
		const subcollection1="mensajes";
		const subcollection2="reuniones";
		const subcollection3="requerimientos";
		/*función admin, leer una línea de mensajeria en una id usuario preseleccionada*/
		function rendertodoslosdatosmensajeriaenfila(doc){
						let tr = document.createElement('tr');
						var todoslosdatosmensajeriatbody =document.getElementById("todoslosdatosmensajeriatbody");
						tr.setAttribute("class", "filatodoslosdatos");
						let tdfecha = document.createElement('td');
						let tdcontenido = document.createElement('td');
						let tdcantidadarchivos = document.createElement('td');
						let tdnombrearchivos = document.createElement('td');
						var fecha=doc.data().fechamensaje.toDate();
						tdcontenido.setAttribute("class","celdaarchivos");
						tdnombrearchivos.setAttribute("class","celdaarchivos");
						tdfecha.textContent=traducefecha(fecha);
						tdcontenido.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenido.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdcantidadarchivos.textContent=doc.data().cantidadarchivos;
						tdnombrearchivos.textContent="ver nombre de archivo(s)";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdnombrearchivos.appendChild(span2);
						span2.textContent=doc.data().detallearchivos;
						/* acá se crea el boton para cambiar el estado*/
						let tdestado = document.createElement('td');
						let dropdown = document.createElement('div');
						dropdown.setAttribute("class","dropdown");
						let dropbtn = document.createElement("button");
						dropbtn.setAttribute("class","dropbtn");
						dropbtn.textContent="Cambiar estado";
						let dropdowncontent = document.createElement('div');
						dropdowncontent.setAttribute("class","dropdown-content");
						let anuevo=document.createElement('a');
						anuevo.textContent="Nuevo";
						let apendiente=document.createElement('a');
						apendiente.textContent="Pendiente";
						let afinalizado=document.createElement('a');
						afinalizado.textContent="Finalizado";
						dropdowncontent.appendChild(anuevo);
						dropdowncontent.appendChild(apendiente);
						dropdowncontent.appendChild(afinalizado);
						dropbtn.appendChild(dropdowncontent);
						dropdown.appendChild(dropbtn);
						tdestado.appendChild(dropdown);
						/* se anexan los childs en el orden correspondiente*/
						tr.appendChild(tdfecha);
						tr.appendChild(tdcontenido);
						tr.appendChild(tdcantidadarchivos);
						tr.appendChild(tdnombrearchivos);
						tr.appendChild(tdestado);
						todoslosdatosmensajeriatbody.appendChild(tr);
		}
		/* leer una linea de la bd para la tabla de archivos en Reuniones */
		function rendertodoslosdatosreunionesenfila(doc){
						let tr = document.createElement('tr');
						var reunionestodoslosdatostbody =document.getElementById("reunionestodoslosdatostbody");
						tr.setAttribute("class", "filatodoslosdatos");
						let tdfechasolicitud = document.createElement('td');
						let tdfechareunion = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdparticipantes = document.createElement('td');
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdparticipantes.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fechareunion=doc.data().fecha;
						tdfechareunion.textContent=traducefechaform(fechareunion);
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdparticipantes.textContent="ver cantidad y correo de participantes";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdparticipantes.appendChild(span2);
						var correosseparados="";
						let i=0;
						const arreglodecorreos=doc.data().correoparticipantes.split(";");
						while (i<doc.data().cantidadparticipantes){
							correosseparados+=" "+arreglodecorreos[i];
							i++;
						}
						span2.textContent=doc.data().cantidadparticipantes+" participante(s) con el (o  los) siguiente(s) correo(s) electrónico(s): "+correosseparados;
						/* acá se crea el boton para cambiar el estado*/
						let tdestado = document.createElement('td');
						let dropdown = document.createElement('div');
						dropdown.setAttribute("class","dropdown");
						let dropbtn = document.createElement("button");
						dropbtn.setAttribute("class","dropbtn");
						dropbtn.textContent="Cambiar estado";
						let dropdowncontent = document.createElement('div');
						dropdowncontent.setAttribute("class","dropdown-content");
						let anuevo=document.createElement('a');
						anuevo.textContent="Nuevo";
						let apendiente=document.createElement('a');
						apendiente.textContent="Pendiente";
						let afinalizado=document.createElement('a');
						afinalizado.textContent="Finalizado";
						dropdowncontent.appendChild(anuevo);
						dropdowncontent.appendChild(apendiente);
						dropdowncontent.appendChild(afinalizado);
						dropbtn.appendChild(dropdowncontent);
						dropdown.appendChild(dropbtn);
						tdestado.appendChild(dropdown);
						/* se anexan los childs en el orden correspondiente*/
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdfechareunion);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdparticipantes);
						tr.appendChild(tdestado);
						reunionestodoslosdatostbody.appendChild(tr);		
			}
		/* leer una linea de la bd para la tabla de archivos en Requerimientos */
		function rendertodoslosdatosrequerimientosenfila(doc){
						let tr = document.createElement('tr');
						var requerimientostodoslosdatostbody =document.getElementById("requerimientostodoslosdatostbody");
						tr.setAttribute("class", "filatodoslosdatos");
						let tdfechasolicitud = document.createElement('td');
						let tdtipoderequerimiento = document.createElement('td');
						let tdfecharequerimiento = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdcotizacion = document.createElement('td');
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fecharequerimiento=doc.data().fecha;
						tdfecharequerimiento.textContent=traducefechaform(fecharequerimiento);
						tdtipoderequerimiento.textContent=doc.data().tipoderequerimiento;
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						/*acá se puede ver cotización*/
						if(doc.data().cotizacion){
							if (doc.data().cotizacionvalor>0){
								tdcotizacion.textContent="Cotización solicitada y valorada en: "+doc.data().cotizacionvalor+" "+doc.data().cotizacionmoneda;}else{
								tdcotizacion.textContent="Cotización solicitada y pendiente de valorar";
								}
						}else{
						tdcotizacion.textContent="Cotización no solicitada"
						}
						/* acá se crea el boton para cambiar el estado*/
						let tdestado = document.createElement('td');
						let dropdown = document.createElement('div');
						dropdown.setAttribute("class","dropdown");
						let dropbtn = document.createElement("button");
						dropbtn.setAttribute("class","dropbtn");
						dropbtn.textContent="Cambiar estado";
						let dropdowncontent = document.createElement('div');
						dropdowncontent.setAttribute("class","dropdown-content");
						let anuevo=document.createElement('a');
						anuevo.textContent="Nuevo";
						let apendiente=document.createElement('a');
						apendiente.textContent="Pendiente";
						let afinalizado=document.createElement('a');
						afinalizado.textContent="Finalizado";
						dropdowncontent.appendChild(anuevo);
						dropdowncontent.appendChild(apendiente);
						dropdowncontent.appendChild(afinalizado);
						dropbtn.appendChild(dropdowncontent);
						dropdown.appendChild(dropbtn);
						tdestado.appendChild(dropdown);
						/* se anexan los childs en el orden correspondiente*/
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdtipoderequerimiento);
						tr.appendChild(tdfecharequerimiento);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdcotizacion);
						tr.appendChild(tdestado);
						requerimientostodoslosdatostbody.appendChild(tr);		
			}
		
		/*Crea formulario de valorar cotizacion en fila */
	function renderformulariocotizacionenfila(contenedor,fila){
		 var contenedor=contenedor
		 var formcotizacion=document.createElement("form");
		 formcotizacion.setAttribute("action","javascript:evaluarcotizacion(this,"+fila+");");
		 formcotizacion.setAttribute("class","formulariocotizador");
		formcotizacion.setAttribute("id","formcotizador"+fila);
		 var valorcotizacion=document.createElement("input");
		 valorcotizacion.setAttribute("type","text");
		 valorcotizacion.setAttribute("id","valorcotizacion"+fila);
		 var br0=document.createElement('br');
		 formcotizacion.appendChild(valorcotizacion);
		 formcotizacion.appendChild(br0);
		 var UF=document.createElement("input");
			UF.setAttribute("type","radio");
			UF.setAttribute("name","moneda");
			UF.setAttribute("checked","true");
		 UF.setAttribute("id","UF"+fila);
		 var UFlabel=document.createElement("label");
		 UFlabel.setAttribute("for","UF"+fila);
		 UFlabel.textContent="UF"
		 var br1=document.createElement('br');
		 formcotizacion.appendChild(UF);
		 formcotizacion.appendChild(UFlabel);
		 formcotizacion.appendChild(br1);
		 var Pesos=document.createElement("input");
			Pesos.setAttribute("type","radio");
			Pesos.setAttribute("name","moneda");
		 Pesos.setAttribute("id","Pesos"+fila);
		 var Pesoslabel=document.createElement("label");
		 Pesoslabel.setAttribute("for","Pesos"+fila);
		 Pesoslabel.textContent="Pesos"
		 var br2=document.createElement('br');
		 formcotizacion.appendChild(Pesos);
		 formcotizacion.appendChild(Pesoslabel);
		 formcotizacion.appendChild(br2);
		 var USDollars=document.createElement("input");
			USDollars.setAttribute("type","radio");
			USDollars.setAttribute("name","moneda");
		 USDollars.setAttribute("id","USDollars"+fila);
		 var USDollarslabel=document.createElement("label");
		 USDollarslabel.setAttribute("for","USDollars"+fila);
		 USDollarslabel.textContent="USDollars"
		 var br3=document.createElement('br');
		 formcotizacion.appendChild(USDollars);
		 formcotizacion.appendChild(USDollarslabel);
		 formcotizacion.appendChild(br3);
		 var euros=document.createElement("input");
		 euros.setAttribute("type","radio");
		 euros.setAttribute("name","moneda");
		 euros.setAttribute("id","euros"+fila);
		 var euroslabel=document.createElement("label");
		 euroslabel.setAttribute("for","euros"+fila);
		 euroslabel.textContent="Euros"
		 var br4=document.createElement('br');
		 formcotizacion.appendChild(euros);
		 formcotizacion.appendChild(euroslabel);
		 formcotizacion.appendChild(br4);
		 var botoncotizacion=document.createElement("input");
		 botoncotizacion.setAttribute("type","submit")
		 botoncotizacion.setAttribute("value","Valorar")
		 formcotizacion.appendChild(botoncotizacion);
		 contenedor.appendChild(formcotizacion);
	}
	/*funcion submit de formulario valorar cotización */
	async function evaluarcotizacion(form,i){
		try{
			var valor=form.$("valorcotizacion"+i).value;
			var moneda="";
			if(form.$("UF"+i).checked){
				 moneda="UF";
			};
			if(form.$("Pesos"+i).checked){
				 moneda="Pesos";
			};
			if(form.$("USDollars"+i).checked){
				moneda="US Dollars";
			};
			if(form.$("euros"+i).checked){
				 moneda="Euros";
			};
			let idusuarioactivo=obteneridusuarioactivolocalStorage();
			let requerimientosidactivo = obtenerrequerimientosidactivolocalStorage();
			let docid=requerimientosidactivo[i];
			await db.collection("usuarios").doc(idusuarioactivo).collection("requerimientos").doc(docid).update({cotizacionvalor: valor, cotizacionmoneda: moneda});
			console.log("escritura exitosa de la cotización");
			var requerimientostodoslosdatostbody=document.getElementById("requerimientostodoslosdatostbody");
			var tdcotizacion=requerimientostodoslosdatostbody.rows[i].cells[4];
			tdcotizacion.textContent="Cotización valorada en: "+valor+" "+moneda;
			var boton=document.createElement("button");
			boton.innerText="Cambiar valores";
			boton.setAttribute("onClick","mostrarcotizadorenfila("+i+");");
			boton.setAttribute("id","botoncambiarvalor"+i);
			tdcotizacion.appendChild(boton);
			tdcotizacion.appendChild(document.createElement('br'));
			renderformulariocotizacionenfila(tdcotizacion,i);
		}catch(error){console.error("error en evaluarcotizacion: "+error.message);}
		}	
	/*función para mostrar formularios de cotizador en fila i*/
	function mostrarcotizadorenfila(i){
		$("botoncambiarvalor"+i).style.display="none";
		$("formcotizador"+i).style.display="block";
	}
	/*Funciones de cambio de estado para un doc*/
		async function cambiaestadonuevo(subcollection,i){
		try{let idusuarioactivo=obteneridusuarioactivolocalStorage();
			let docid="";
			if(subcollection=="mensajes"){
				let mensajesidactivo=obtenermensajesidactivolocalStorage();
				docid=mensajesidactivo[i];
			}
			if(subcollection=="reuniones"){
				let reunionesidactivo =obtenerreunionesidactivolocalStorage();
				docid=reunionesidactivo[i];
			}
			if(subcollection=="requerimientos"){
				let requerimientosidactivo = obtenerrequerimientosidactivolocalStorage();
				docid=requerimientosidactivo[i];
			}
			await db.collection("usuarios").doc(idusuarioactivo).collection(subcollection).doc(docid).update({estado:"nuevo"});
			alert("Estado cambiado a nuevo");
		   }catch(error){console.error("error en cambioestadonuevo: "+error.message);}
		}
		async function cambiaestadopendiente(subcollection,i){
			try{let idusuarioactivo=obteneridusuarioactivolocalStorage();
				let docid="";
			if(subcollection=="mensajes"){
				let mensajesidactivo=obtenermensajesidactivolocalStorage();
				docid=mensajesidactivo[i];
			}
			if(subcollection=="reuniones"){
				let reunionesidactivo =obtenerreunionesidactivolocalStorage();
				docid=reunionesidactivo[i];
			}
			if(subcollection=="requerimientos"){
				let requerimientosidactivo = obtenerrequerimientosidactivolocalStorage();
				docid=requerimientosidactivo[i];
			}
				await db.collection("usuarios").doc(idusuarioactivo).collection(subcollection).doc(docid).update({estado:"pendiente"});
				alert("Estado cambiado a pendiente");
		}catch(error){console.error("error en cambiaestadopendiente: "+error.message);}
		}
		async function cambiaestadofinalizado(subcollection,i){
			try{let idusuarioactivo=obteneridusuarioactivolocalStorage();
				let docid="";
			if(subcollection=="mensajes"){
				let mensajesidactivo=obtenermensajesidactivolocalStorage();
				docid=mensajesidactivo[i];
			}
			if(subcollection=="reuniones"){
				let reunionesidactivo =obtenerreunionesidactivolocalStorage();
				docid=reunionesidactivo[i];
			}
			if(subcollection=="requerimientos"){
				let requerimientosidactivo = obtenerrequerimientosidactivolocalStorage();
				docid=requerimientosidactivo[i];
			}
				await db.collection("usuarios").doc(idusuarioactivo).collection(subcollection).doc(docid).update({estado:"finalizado"});
				alert("Estado cambiado a finalizado");
		}catch(error){console.error("error en cambiaestadofinalizado: "+error.message);}
		}
		/*función para llenar scrollselector con todos los emails de usuarios, habría que hacer aparecer el usuario activo en el panel y obligar a seleccionar para ver contenido de la tabla*/
			
		async function selectorcliente(i){
			try{
				var todoslosusuarios= await db.collection("usuarios").get();
				var idusuarioactivo= todoslosusuarios.docs[i].id;
				localStorage.setItem("idusuarioactivo",idusuarioactivo);
				console.log("el usuario N°"+i+" es #"+idusuarioactivo);
				/*hacer script para llenar la tabla con el usuario activo */
				var mensajesusuario= await obtenermensajes(idusuarioactivo);
				var reunionesusuario= await obtenerreuniones(idusuarioactivo);
				var requerimientosusuario=await obtenerrequerimientos(idusuarioactivo);
				/*llenar la tabla con datos*/
				/* pero primero vaciar las 3 tablas de los datos previos*/
				var todoslosdatosmensajeriatbody =document.getElementById("todoslosdatosmensajeriatbody");
				while (todoslosdatosmensajeriatbody.rows.length>0){
					let i=0;
					todoslosdatosmensajeriatbody.rows[i].remove();
					i++;
				};
				var reunionestodoslosdatostbody =document.getElementById("reunionestodoslosdatostbody");
				while (reunionestodoslosdatostbody.rows.length>0){
					let i=0;
					reunionestodoslosdatostbody.rows[i].remove();
					i++;
				};
				var requerimientostodoslosdatostbody =document.getElementById("requerimientostodoslosdatostbody");
				while (requerimientostodoslosdatostbody.rows.length>0){
					let i=0;
					requerimientostodoslosdatostbody.rows[i].remove();
					i++;
				};
				/*y la tabla de datos usuarios*/
				var perfilusuariotodoslosdatostbody=document.getElementById("perfilusuariotodoslosdatostbody");
				while (perfilusuariotodoslosdatostbody.rows.length>0){
					let i=0;
					perfilusuariotodoslosdatostbody.rows[i].remove();
					i++;
				};
			/* ahora se llena las tablas mensajes:*/
				let fila=0;
				
				var  docidmensajes= new Array();
				var  docidreuniones= new Array();
				var  docidrequerimientos= new Array();
				mensajesusuario.forEach((doc)=>{
					rendertodoslosdatosmensajeriaenfila(doc);
					var span=todoslosdatosmensajeriatbody.rows[fila].cells[1].firstElementChild;
					var span2=todoslosdatosmensajeriatbody.rows[fila].cells[3].firstElementChild;
					var tdcontenido=todoslosdatosmensajeriatbody.rows[fila].cells[1];
					var tdnombrearchivos=todoslosdatosmensajeriatbody.rows[fila].cells[3];
					var tdestado=todoslosdatosmensajeriatbody.rows[fila].cells[4];
					let anuevo= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[0];
					let apendiente= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[1];
					let afinalizado= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[2];
					docidmensajes.push(doc.id);
					anuevo.setAttribute("href","javascript:cambiaestadonuevo(subcollection1,"+fila+")");
					apendiente.setAttribute("href","javascript:cambiaestadopendiente(subcollection1,"+fila+")");
					afinalizado.setAttribute("href","javascript:cambiaestadofinalizado(subcollection1,"+fila+")");
					fila++;
					tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
					tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				});
				/* ahora se llena la tabla reuniones*/
				let filareuniones=0;
				reunionesusuario.forEach((doc)=>{
					rendertodoslosdatosreunionesenfila(doc);
					var span=reunionestodoslosdatostbody.rows[filareuniones].cells[2].firstElementChild;
					var span2=reunionestodoslosdatostbody.rows[filareuniones].cells[3].firstElementChild;
					var tdcontenido=reunionestodoslosdatostbody.rows[filareuniones].cells[2];
					var tdnombrearchivos=reunionestodoslosdatostbody.rows[filareuniones].cells[3];
					var tdestado=reunionestodoslosdatostbody.rows[filareuniones].cells[4];
					let anuevo= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[0];
					let apendiente= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[1];
					let afinalizado= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[2];
					docidreuniones.push(doc.id);
					anuevo.setAttribute("href","javascript:cambiaestadonuevo(subcollection2,"+filareuniones+")");
					apendiente.setAttribute("href","javascript:cambiaestadopendiente(subcollection2,"+filareuniones+")");
					afinalizado.setAttribute("href","javascript:cambiaestadofinalizado(subcollection2,"+filareuniones+")");
					filareuniones++;
					tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
					tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
					})
				/* ahora se llena la tabla requerimientos*/
				let filarequerimientos=0;
				requerimientosusuario.forEach((doc)=>{
					rendertodoslosdatosrequerimientosenfila(doc);
					var span=requerimientostodoslosdatostbody.rows[filarequerimientos].cells[3].firstElementChild;
					var tdcontenido=requerimientostodoslosdatostbody.rows[filarequerimientos].cells[3];
					var tdestado=requerimientostodoslosdatostbody.rows[filarequerimientos].cells[5];
					let anuevo= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[0];
					let apendiente= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[1];
					let afinalizado= tdestado.firstElementChild.firstElementChild.firstElementChild.childNodes[2];
					docidrequerimientos.push(doc.id);
					anuevo.setAttribute("href","javascript:cambiaestadonuevo(subcollection3,"+filarequerimientos+")");
					apendiente.setAttribute("href","javascript:cambiaestadopendiente(subcollection3,"+filarequerimientos+")");
					afinalizado.setAttribute("href","javascript:cambiaestadofinalizado(subcollection3,"+filarequerimientos+")");
					var tdcotizacion=requerimientostodoslosdatostbody.rows[filarequerimientos].cells[4];
					var boton=document.createElement("button");
					boton.innerText="Cambiar valores";
					boton.setAttribute("onClick","mostrarcotizadorenfila("+filarequerimientos+");");
					boton.setAttribute("id","botoncambiarvalor"+filarequerimientos);
					tdcotizacion.appendChild(boton);
					tdcotizacion.appendChild(document.createElement('br'));
					renderformulariocotizacionenfila(tdcotizacion,filarequerimientos);
					filarequerimientos++;
					tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
					})
			/* ahora se llena la tabla con los datos del cliente*/
				let tr = document.createElement('tr');
				tr.setAttribute("class", "filatodoslosdatos");
				let tdemail = document.createElement('td');
				let tdnombre = document.createElement('td');
				let tdorganizacion = document.createElement('td');
				let tdcargo = document.createElement('td');
				let tdcomentario = document.createElement('td');
				tdemail.textContent=todoslosusuarios.docs[i].data().email;
				tdnombre.textContent=todoslosusuarios.docs[i].data().nombre;
				tdorganizacion.textContent=todoslosusuarios.docs[i].data().organizacion;
				tdcargo.textContent=todoslosusuarios.docs[i].data().cargo;
				tdcomentario.textContent="Comentarios pendientes";
				tr.appendChild(tdemail);
				tr.appendChild(tdnombre);
				tr.appendChild(tdorganizacion);
				tr.appendChild(tdcargo);
				tr.appendChild(tdcomentario);
				perfilusuariotodoslosdatostbody.appendChild(tr);
				var usuarioactivo=document.getElementById("usuarioactivo");
				usuarioactivo.textContent=todoslosusuarios.docs[i].data().email;
				/*Se guarda la colleccion de datos del usuario activo*/
				localStorage.setItem("mensajesidactivo",JSON.stringify(docidmensajes));
				localStorage.setItem("reunionesidactivo",JSON.stringify(docidreuniones));
				localStorage.setItem("requerimientosidactivo",JSON.stringify(docidrequerimientos));
			}catch(error){console.error("error en el selectorcliente: "+error.message);};
		}
		
		function obteneridusuarioactivolocalStorage(){
		if (localStorage.getItem("idusuarioactivo")){
		let idusuarioactivo = localStorage.getItem("idusuarioactivo");
			return idusuarioactivo;
		}else{
			console.log("No hay entradas en el localStorage")
			}
		}
		
	
		function obtenermensajesidactivolocalStorage(){
		if (localStorage.getItem("mensajesidactivo")){
		let mensajesidactivo = JSON.parse(localStorage.getItem("mensajesidactivo"));
			return mensajesidactivo;
		}else{
			console.log("No hay entradas en el localStorage")
			}
		}
		function obtenerreunionesidactivolocalStorage(){
		if (localStorage.getItem("reunionesidactivo")){
		let reunionesidactivo = JSON.parse(localStorage.getItem("reunionesidactivo"));
			return reunionesidactivo;
		}else{
			console.log("No hay entradas en el localStorage")
			}
		}
		function obtenerrequerimientosidactivolocalStorage(){
		if (localStorage.getItem("requerimientosidactivo")){
		let requerimientosidactivo = JSON.parse(localStorage.getItem("requerimientosidactivo"));
			return requerimientosidactivo;
		}else{
			console.log("No hay entradas en el localStorage")
			}
		}
	
		async function obtenermensajes(idusuarioactivo){
			try{
				var mensajesusuario= await db.collection("usuarios").doc(idusuarioactivo).collection("mensajes").get();
				if (!mensajesusuario.empty){return mensajesusuario;}else{
					let nada=[];
					console.log("no hay mensajes");
					return nada;	
						}
					}catch(error){console.error("error en obtenermensajes :"+error.message);}
		}
		async function obtenerreuniones(idusuarioactivo){
			try{
				var reunionesusuario= await db.collection("usuarios").doc(idusuarioactivo).collection("reuniones").get();
				if (!reunionesusuario.empty){
					return reunionesusuario;}
				else{let nada=[];console.log("no hay reuniones");return nada;}
					}catch(error){console.error("error en obtenerreuniones :"+error.message);}
		}
		async function obtenerrequerimientos(idusuarioactivo){
			try{
				var requerimientosusuario= await db.collection("usuarios").doc(idusuarioactivo).collection("requerimientos").get();
				if(!requerimientosusuario.empty){
					return requerimientosusuario;}else{
						let nada=[];
						console.log("no hay requerimientos");
						return nada;
					}
				}catch(error){console.error("error en obtenerrequerimientos :"+error.message);}
		}
		
		async function todoslosemailsusuarios(){
			try{
				var todoslosusuarios= await db.collection("usuarios").get();
			const listausuarios=document.getElementById("listausuarios");
				/*borrar contenido de listausuarios*/
			let i=0;
			while(listausuarios.hasChildNodes()){
				listausuarios.removeChild(listausuarios.firstChild);
			}
			todoslosusuarios.forEach((doc)=>{
				var a=document.createElement("a");
				a.textContent=doc.data().email;
				a.setAttribute("href","javascript:selectorcliente("+i+");")
				i++;
				listausuarios.appendChild(a);
				});
			}catch(error){console.error("error de todoslosemailsusuarios: "+error.message);}
		}
		/*funciones para admin*/
		var mensajeriatodoslosdatostabla = document.getElementById("mensajeriatodoslosdatostabla");
		var reunionestodoslosdatostabla = document.getElementById("reunionestodoslosdatostabla");
		var requerimientostodoslosdatostabla = document.getElementById("requerimientostodoslosdatostabla");
		var perfilusuariotodoslosdatostabla= document.getElementById("perfilusuariotodoslosdatostabla");
		var tabtodoslosdatosmensajes = document.getElementById("tabtodoslosdatosmensajes");
		var tabtodoslosdatosreuniones = document.getElementById("tabtodoslosdatosreuniones");
		var tabtodoslosdatosrequerimientos = document.getElementById("tabtodoslosdatosrequerimientos");
		var tabtodoslosdatosperfilusario= document.getElementById("tabtodoslosdatosperfilusario");
										
		function muestratablatodoslosdatosmensajes(){
			mensajeriatodoslosdatostabla.style.display="block";
			reunionestodoslosdatostabla.style.display="none";
			requerimientostodoslosdatostabla.style.display="none";
			perfilusuariotodoslosdatostabla.style.display="none";
			tabtodoslosdatosmensajes.style.opacity=1;
			tabtodoslosdatosreuniones.style.opacity=0.3;
			tabtodoslosdatosrequerimientos.style.opacity=0.3;
			tabtodoslosdatosperfilusario.style.opacity=0.3;
			}		
		function muestratablatodoslosdatosreuniones(){
			mensajeriatodoslosdatostabla.style.display="none";
			reunionestodoslosdatostabla.style.display="block";
			requerimientostodoslosdatostabla.style.display="none";
			perfilusuariotodoslosdatostabla.style.display="none";
			tabtodoslosdatosmensajes.style.opacity=0.3;
			tabtodoslosdatosreuniones.style.opacity=1;
			tabtodoslosdatosrequerimientos.style.opacity=0.3;
			tabtodoslosdatosperfilusario.style.opacity=0.3;
			}
		function muestratablatodoslosdatosrequerimientos(){
			mensajeriatodoslosdatostabla.style.display="none";
			reunionestodoslosdatostabla.style.display="none";
			requerimientostodoslosdatostabla.style.display="block";
			perfilusuariotodoslosdatostabla.style.display="none";
			tabtodoslosdatosmensajes.style.opacity=0.3;
			tabtodoslosdatosreuniones.style.opacity=0.3;
			tabtodoslosdatosrequerimientos.style.opacity=1;
			tabtodoslosdatosperfilusario.style.opacity=0.3;
			}
		function muestratablatodoslosdatosperfilusuario(){
			mensajeriatodoslosdatostabla.style.display="none";
			reunionestodoslosdatostabla.style.display="none";
			requerimientostodoslosdatostabla.style.display="none";
			perfilusuariotodoslosdatostabla.style.display="block";
			tabtodoslosdatosmensajes.style.opacity=0.3;
			tabtodoslosdatosreuniones.style.opacity=0.3;
			tabtodoslosdatosrequerimientos.style.opacity=0.3;
			tabtodoslosdatosperfilusario.style.opacity=1;
			}
	
		var mensajeriatodoslosnuevosdatostabla = document.getElementById("mensajeriatodoslosnuevosdatostabla");
		var reunionestodoslosnuevosdatostabla = document.getElementById("reunionestodoslosnuevosdatostabla");
		var requerimientostodoslosnuevosdatostabla = document.getElementById("requerimientostodoslosnuevosdatostabla");
		var tabtodoslosnuevosdatosmensajes = document.getElementById("tabtodoslosnuevosdatosmensajes");
		var tabtodoslosnuevosdatosreuniones = document.getElementById("tabtodoslosnuevosdatosreuniones");
		var tabtodoslosnuevosdatosrequerimientos = document.getElementById("tabtodoslosnuevosdatosrequerimientos");

		/*función admin, leer una línea de mensajeria en un doc y publica en todoslosnuevosdatos*/
		function rendertodoslosnuevosdatosmensajeriaenfila(doc){
						let tr = document.createElement('tr');
						var todoslosnuevosdatosmensajeriatbody =document.getElementById("todoslosnuevosdatosmensajeriatbody");
						tr.setAttribute("class", "filatodoslosnuevosdatos");
						let tdfecha = document.createElement('td');
						let tdcontenido = document.createElement('td');
						let tdcantidadarchivos = document.createElement('td');
						let tdnombrearchivos = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fecha=doc.data().fechamensaje.toDate();
						tdcontenido.setAttribute("class","celdaarchivos");
						tdnombrearchivos.setAttribute("class","celdaarchivos");
						tdfecha.textContent=traducefecha(fecha);
						tdcontenido.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenido.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdcantidadarchivos.textContent=doc.data().cantidadarchivos;
						tdnombrearchivos.textContent="ver nombre de archivo(s)";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdnombrearchivos.appendChild(span2);
						span2.textContent=doc.data().detallearchivos;
						tr.appendChild(tdfecha);
						tr.appendChild(tdcontenido);
						tr.appendChild(tdcantidadarchivos);
						tr.appendChild(tdnombrearchivos);
						tr.appendChild(tdemail);
						todoslosnuevosdatosmensajeriatbody.appendChild(tr);
		}
		/* leer una linea de la bd para la tabla de archivos en Reuniones en un doc y publica en todoslosnuevosdatos*/
		function rendertodoslosnuevosdatosreunionesenfila(doc){
						let tr = document.createElement('tr');
						var reunionestodoslosnuevosdatostbody =document.getElementById("reunionestodoslosnuevosdatostbody");
						tr.setAttribute("class", "filatodoslosnuevosdatos");
						let tdfechasolicitud = document.createElement('td');
						let tdfechareunion = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdparticipantes = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdparticipantes.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fechareunion=doc.data().fecha;
						tdfechareunion.textContent=traducefechaform(fechareunion);
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdparticipantes.textContent="ver cantidad y correo de participantes";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdparticipantes.appendChild(span2);
						var correosseparados="";
						let i=0;
						const arreglodecorreos=doc.data().correoparticipantes.split(";");
						while (i<doc.data().cantidadparticipantes){
							correosseparados+=" "+arreglodecorreos[i];
							i++;
						}
						span2.textContent=doc.data().cantidadparticipantes+" participante(s) con el (o  los) siguiente(s) correo(s) electrónico(s): "+correosseparados;
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdfechareunion);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdparticipantes);
						tr.appendChild(tdemail);
						reunionestodoslosnuevosdatostbody.appendChild(tr);		
			}
		/* leer una linea de la bd para la tabla de archivos en Requerimientos en un doc y publica en todoslosnuevosdatos*/
		function rendertodoslosnuevosdatosrequerimientosenfila(doc){
						let tr = document.createElement('tr');
						var requerimientostodoslosnuevosdatostbody =document.getElementById("requerimientostodoslosnuevosdatostbody");
						tr.setAttribute("class", "filatodoslosnuevosdatos");
						let tdfechasolicitud = document.createElement('td');
						let tdtipoderequerimiento = document.createElement('td');
						let tdfecharequerimiento = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdcotizacion = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fecharequerimiento=doc.data().fecha;
						tdfecharequerimiento.textContent=traducefechaform(fecharequerimiento);
						tdtipoderequerimiento.textContent=doc.data().tipoderequerimiento;
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						/*acá se puede ver cotización*/
						if(doc.data().cotizacion){
							if (doc.data().cotizacionvalor>0){
								tdcotizacion.textContent="Cotización solicitada y valorada en: "+doc.data().cotizacionvalor+" "+doc.data().cotizacionmoneda;}else{
								tdcotizacion.textContent="Cotización solicitada y pendiente de valorar";
								}
						}else{
						tdcotizacion.textContent="Cotización no solicitada"
						}
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdtipoderequerimiento);
						tr.appendChild(tdfecharequerimiento);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdcotizacion);
						tr.appendChild(tdemail);
						requerimientostodoslosnuevosdatostbody.appendChild(tr);		
			}
		
		function muestratablatodoslosnuevosdatosmensajes(){
			mensajeriatodoslosnuevosdatostabla.style.display="block";
			reunionestodoslosnuevosdatostabla.style.display="none";
			requerimientostodoslosnuevosdatostabla.style.display="none";
			tabtodoslosnuevosdatosmensajes.style.opacity=1;
			tabtodoslosnuevosdatosreuniones.style.opacity=0.3;
			tabtodoslosnuevosdatosrequerimientos.style.opacity=0.3;
			}		
		function muestratablatodoslosnuevosdatosreuniones(){
			mensajeriatodoslosnuevosdatostabla.style.display="none";
			reunionestodoslosnuevosdatostabla.style.display="block";
			requerimientostodoslosnuevosdatostabla.style.display="none";
			tabtodoslosnuevosdatosmensajes.style.opacity=0.3;
			tabtodoslosnuevosdatosreuniones.style.opacity=1;
			tabtodoslosnuevosdatosrequerimientos.style.opacity=0.3;
			}
		function muestratablatodoslosnuevosdatosrequerimientos(){
			mensajeriatodoslosnuevosdatostabla.style.display="none";
			reunionestodoslosnuevosdatostabla.style.display="none";
			requerimientostodoslosnuevosdatostabla.style.display="block";
			tabtodoslosnuevosdatosmensajes.style.opacity=0.3;
			tabtodoslosnuevosdatosreuniones.style.opacity=0.3;
			tabtodoslosnuevosdatosrequerimientos.style.opacity=1;
			}

		var paneltodoslosnuevosdatos=document.getElementById("paneltodoslosnuevosdatos");
		var botontodoslosnuevosdatos=document.getElementById("botontodoslosnuevosdatos");
		paneltodoslosnuevosdatos.style.display="none";
		cantidaddecasosnuevos=$("cantidaddecasosnuevos");
		cantidaddecasospendientes=$("cantidaddecasospendientes");
		cantidaddecasosfinalizados=$("cantidaddecasosfinalizados");
		cantidaddecasosfallados=$("cantidaddecasosfallados");

		async function obtenerlosnuevosmensajes(){
			var losnuevosmensajes = await db.collectionGroup("mensajes").where("estado","==","nuevo").get();
			if (!losnuevosmensajes.empty){return losnuevosmensajes;}else{
					let nada=[];
					console.log("no hay mensajes");
					return nada;	
						}
		}
		async function obtenerlasnuevasreuniones(){
		var lasnuevasreuniones=await db.collectionGroup("reuniones").where("estado","==","nuevo").get();
			if (!lasnuevasreuniones.empty){return lasnuevasreuniones;}else{
					let nada=[];
					console.log("no hay reuniones");
					return nada;	
						}
		}
		async function obtenerlosnuevosrequerimientos(){
			var losnuevosrequerimientos=await db.collectionGroup("requerimientos").where("estado","==","nuevo").get();
			if (!losnuevosrequerimientos.empty){return losnuevosrequerimientos;}else{
					let nada=[];
					console.log("no hay requerimientos");
					return nada;	
						}
		}
	
		async function todoslosnuevosdatos(){
			paneltodoslosnuevosdatos.style.display="block";
			paneltodoslosfinalizados.style.display="none";
			paneltodoslospendientes.style.display="none";
			paneltodoslosfallados.style.display="none";
			var casosnuevos=0;
			var losnuevosmensajes=await obtenerlosnuevosmensajes();
			var lasnuevasreuniones=await obtenerlasnuevasreuniones();
			var losnuevosrequerimientos=await obtenerlosnuevosrequerimientos();
			while (todoslosnuevosdatosmensajeriatbody.rows.length>0){
					let i=0;
					todoslosnuevosdatosmensajeriatbody.rows[i].remove();
					i++;
				};
			while (reunionestodoslosnuevosdatostbody.rows.length>0){
					let i=0;
					reunionestodoslosnuevosdatostbody.rows[i].remove();
					i++;
				};
			while (requerimientostodoslosnuevosdatostbody.rows.length>0){
					let i=0;
					requerimientostodoslosnuevosdatostbody.rows[i].remove();
					i++;
				};
			let fila =0;
			let filareuniones =0;
			let filarequerimientos =0;
			losnuevosmensajes.forEach((doc)=>{
				rendertodoslosnuevosdatosmensajeriaenfila(doc);
				var span=todoslosnuevosdatosmensajeriatbody.rows[fila].cells[1].firstElementChild;
				var span2=todoslosnuevosdatosmensajeriatbody.rows[fila].cells[3].firstElementChild;
				var tdcontenido=todoslosnuevosdatosmensajeriatbody.rows[fila].cells[1];
				var tdnombrearchivos=todoslosnuevosdatosmensajeriatbody.rows[fila].cells[3];
				fila++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				casosnuevos+=1;
				cantidaddecasosnuevos.textContent=casosnuevos+" casos.";});
			lasnuevasreuniones.forEach((doc)=>{
				rendertodoslosnuevosdatosreunionesenfila(doc);
				var span=reunionestodoslosnuevosdatostbody.rows[filareuniones].cells[2].firstElementChild;
				var span2=reunionestodoslosnuevosdatostbody.rows[filareuniones].cells[3].firstElementChild;
				var tdcontenido=reunionestodoslosnuevosdatostbody.rows[filareuniones].cells[2];
				var tdnombrearchivos=reunionestodoslosnuevosdatostbody.rows[filareuniones].cells[3];
				filareuniones++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				casosnuevos+=1;
				cantidaddecasosnuevos.textContent=casosnuevos+" casos.";});
			losnuevosrequerimientos.forEach((doc)=>{
				rendertodoslosnuevosdatosrequerimientosenfila(doc);
				var span=requerimientostodoslosnuevosdatostbody.rows[filarequerimientos].cells[3].firstElementChild;
				var tdcontenido=requerimientostodoslosnuevosdatostbody.rows[filarequerimientos].cells[3];
				filarequerimientos++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				casosnuevos+=1;
				cantidaddecasosnuevos.textContent=casosnuevos+" casos.";});
			}
		
		var paneltodoslospendientes=$("paneltodoslospendientes");
		var botontodoslospendientes=$("botontodoslospendientes");
		paneltodoslospendientes.style.display="none";
	
		function muestratablatodoslospendientesmensajes(){
			mensajeriatodoslospendientestabla.style.display="block";
			reunionestodoslospendientestabla.style.display="none";
			requerimientostodoslospendientestabla.style.display="none";
			tabtodoslospendientesmensajes.style.opacity=1;
			tabtodoslospendientesreuniones.style.opacity=0.3;
			tabtodoslospendientesrequerimientos.style.opacity=0.3;
			}		
		function muestratablatodoslospendientesreuniones(){
			mensajeriatodoslospendientestabla.style.display="none";
			reunionestodoslospendientestabla.style.display="block";
			requerimientostodoslospendientestabla.style.display="none";
			tabtodoslospendientesmensajes.style.opacity=0.3;
			tabtodoslospendientesreuniones.style.opacity=1;
			tabtodoslospendientesrequerimientos.style.opacity=0.3;
			}
		function muestratablatodoslospendientesrequerimientos(){
			mensajeriatodoslospendientestabla.style.display="none";
			reunionestodoslospendientestabla.style.display="none";
			requerimientostodoslospendientestabla.style.display="block";
			tabtodoslospendientesmensajes.style.opacity=0.3;
			tabtodoslospendientesreuniones.style.opacity=0.3;
			tabtodoslospendientesrequerimientos.style.opacity=1;
			}
	
		async function todoslospendientes(){
			paneltodoslosnuevosdatos.style.display="none";
			paneltodoslosfinalizados.style.display="none";
			paneltodoslospendientes.style.display="block";
			paneltodoslosfallados.style.display="none";
			var losmensajespendientes=await obtenerlosmensajespendientes();
			var lasreunionespendientes=await obtenerlasreunionespendientes();
			var losrequerimientospendientes=await obtenerlosrequerimientospendientes();
			while (todoslospendientesmensajeriatbody.rows.length>0){
					let i=0;
					todoslospendientesmensajeriatbody.rows[i].remove();
					i++;
				};
			while (reunionestodoslospendientestbody.rows.length>0){
					let i=0;
					reunionestodoslospendientestbody.rows[i].remove();
					i++;
				};
			while (requerimientostodoslospendientestbody.rows.length>0){
					let i=0;
					requerimientostodoslospendientestbody.rows[i].remove();
					i++;
				};
			var casospendientes=0;
			let fila =0;
			let filareuniones =0;
			let filarequerimientos =0;
			losmensajespendientes.forEach((doc)=>{
				rendertodoslospendientesmensajeriaenfila(doc);
				var span=todoslospendientesmensajeriatbody.rows[fila].cells[1].firstElementChild;
				var span2=todoslospendientesmensajeriatbody.rows[fila].cells[3].firstElementChild;
				var tdcontenido=todoslospendientesmensajeriatbody.rows[fila].cells[1];
				var tdnombrearchivos=todoslospendientesmensajeriatbody.rows[fila].cells[3];
				fila++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				casospendientes+=1;
				cantidaddecasospendientes.textContent=casospendientes+" casos.";});
			lasreunionespendientes.forEach((doc)=>{
				rendertodoslospendientesreunionesenfila(doc);
				var span=reunionestodoslospendientestbody.rows[filareuniones].cells[2].firstElementChild;
				var span2=reunionestodoslospendientestbody.rows[filareuniones].cells[3].firstElementChild;
				var tdcontenido=reunionestodoslospendientestbody.rows[filareuniones].cells[2];
				var tdnombrearchivos=reunionestodoslospendientestbody.rows[filareuniones].cells[3];
				filareuniones++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				casospendientes+=1;
				cantidaddecasospendientes.textContent=casospendientes+" casos.";});
			losrequerimientospendientes.forEach((doc)=>{
				rendertodoslospendientesrequerimientosenfila(doc);
				var span=requerimientostodoslospendientestbody.rows[filarequerimientos].cells[3].firstElementChild;
				var tdcontenido=requerimientostodoslospendientestbody.rows[filarequerimientos].cells[3];
				filarequerimientos++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				casospendientes+=1;
				cantidaddecasospendientes.textContent=casospendientes+" casos.";});
			}
	
		async function obtenerlosmensajespendientes(){
			var losmensajespendientes = await db.collectionGroup("mensajes").where("estado","==","pendiente").get();
			if (!losmensajespendientes.empty){return losmensajespendientes;}else{
					let nada=[];
					console.log("no hay mensajes");
					return nada;	
						}
		}
		async function obtenerlasreunionespendientes(){
		var lasreunionespendientes=await db.collectionGroup("reuniones").where("estado","==","pendiente").get();
			if (!lasreunionespendientes.empty){return lasreunionespendientes;}else{
					let nada=[];
					console.log("no hay reuniones");
					return nada;	
						}
		}
		async function obtenerlosrequerimientospendientes(){
			var losrequerimientospendientes=await db.collectionGroup("requerimientos").where("estado","==","pendiente").get();
			if (!losrequerimientospendientes.empty){return losrequerimientospendientes;}else{
					let nada=[];
					console.log("no hay requerimientos");
					return nada;	
						}
		}
	/*función admin, leer una línea de mensajeria en un doc y publica en todoslospendientes*/
		function rendertodoslospendientesmensajeriaenfila(doc){
						let tr = document.createElement('tr');
						var todoslospendientesmensajeriatbody =document.getElementById("todoslospendientesmensajeriatbody");
						tr.setAttribute("class", "filatodoslospendientes");
						let tdfecha = document.createElement('td');
						let tdcontenido = document.createElement('td');
						let tdcantidadarchivos = document.createElement('td');
						let tdnombrearchivos = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fecha=doc.data().fechamensaje.toDate();
						tdcontenido.setAttribute("class","celdaarchivos");
						tdnombrearchivos.setAttribute("class","celdaarchivos");
						tdfecha.textContent=traducefecha(fecha);
						tdcontenido.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenido.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdcantidadarchivos.textContent=doc.data().cantidadarchivos;
						tdnombrearchivos.textContent="ver nombre de archivo(s)";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdnombrearchivos.appendChild(span2);
						span2.textContent=doc.data().detallearchivos;
						tr.appendChild(tdfecha);
						tr.appendChild(tdcontenido);
						tr.appendChild(tdcantidadarchivos);
						tr.appendChild(tdnombrearchivos);
						tr.appendChild(tdemail);
						todoslospendientesmensajeriatbody.appendChild(tr);
		}
		/* leer una linea de la bd para la tabla de archivos en Reuniones en un doc y publica en todoslospendientes*/
		function rendertodoslospendientesreunionesenfila(doc){
						let tr = document.createElement('tr');
						var reunionestodoslospendientestbody =document.getElementById("reunionestodoslospendientestbody");
						tr.setAttribute("class", "filatodoslospendientes");
						let tdfechasolicitud = document.createElement('td');
						let tdfechareunion = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdparticipantes = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdparticipantes.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fechareunion=doc.data().fecha;
						tdfechareunion.textContent=traducefechaform(fechareunion);
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdparticipantes.textContent="ver cantidad y correo de participantes";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdparticipantes.appendChild(span2);
						var correosseparados="";
						let i=0;
						const arreglodecorreos=doc.data().correoparticipantes.split(";");
						while (i<doc.data().cantidadparticipantes){
							correosseparados+=" "+arreglodecorreos[i];
							i++;
						}
						span2.textContent=doc.data().cantidadparticipantes+" participante(s) con el (o  los) siguiente(s) correo(s) electrónico(s): "+correosseparados;
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdfechareunion);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdparticipantes);
						tr.appendChild(tdemail);
						reunionestodoslospendientestbody.appendChild(tr);		
			}
		/* leer una linea de la bd para la tabla de archivos en Requerimientos en un doc y publica en todoslospendientes*/
		function rendertodoslospendientesrequerimientosenfila(doc){
						let tr = document.createElement('tr');
						var requerimientostodoslospendientestbody =document.getElementById("requerimientostodoslospendientestbody");
						tr.setAttribute("class", "filatodoslospendientes");
						let tdfechasolicitud = document.createElement('td');
						let tdtipoderequerimiento = document.createElement('td');
						let tdfecharequerimiento = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdcotizacion = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fecharequerimiento=doc.data().fecha;
						tdfecharequerimiento.textContent=traducefechaform(fecharequerimiento);
						tdtipoderequerimiento.textContent=doc.data().tipoderequerimiento;
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						/*acá se puede ver cotización*/
						if(doc.data().cotizacion){
							if (doc.data().cotizacionvalor>0){
								tdcotizacion.textContent="Cotización solicitada y valorada en: "+doc.data().cotizacionvalor+" "+doc.data().cotizacionmoneda;}else{
								tdcotizacion.textContent="Cotización solicitada y pendiente de valorar";
								}
						}else{
						tdcotizacion.textContent="Cotización no solicitada"
						}
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdtipoderequerimiento);
						tr.appendChild(tdfecharequerimiento);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdcotizacion);
						tr.appendChild(tdemail);
						requerimientostodoslospendientestbody.appendChild(tr);		
			}

		var paneltodoslosfinalizados=$("paneltodoslosfinalizados");
		var botontodoslosfinalizados=$("botontodoslosfinalizados");
		paneltodoslosfinalizados.style.display="none";

	
	
		function muestratablatodoslosfinalizadosmensajes(){
			mensajeriatodoslosfinalizadostabla.style.display="block";
			reunionestodoslosfinalizadostabla.style.display="none";
			requerimientostodoslosfinalizadostabla.style.display="none";
			tabtodoslosfinalizadosmensajes.style.opacity=1;
			tabtodoslosfinalizadosreuniones.style.opacity=0.3;
			tabtodoslosfinalizadosrequerimientos.style.opacity=0.3;
			}		
		function muestratablatodoslosfinalizadosreuniones(){
			mensajeriatodoslosfinalizadostabla.style.display="none";
			reunionestodoslosfinalizadostabla.style.display="block";
			requerimientostodoslosfinalizadostabla.style.display="none";
			tabtodoslosfinalizadosmensajes.style.opacity=0.3;
			tabtodoslosfinalizadosreuniones.style.opacity=1;
			tabtodoslosfinalizadosrequerimientos.style.opacity=0.3;
			}
		function muestratablatodoslosfinalizadosrequerimientos(){
			mensajeriatodoslosfinalizadostabla.style.display="none";
			reunionestodoslosfinalizadostabla.style.display="none";
			requerimientostodoslosfinalizadostabla.style.display="block";
			tabtodoslosfinalizadosmensajes.style.opacity=0.3;
			tabtodoslosfinalizadosreuniones.style.opacity=0.3;
			tabtodoslosfinalizadosrequerimientos.style.opacity=1;
			}
	
		async function todoslosfinalizados(){
			paneltodoslosnuevosdatos.style.display="none";
			paneltodoslospendientes.style.display="none";
			paneltodoslosfinalizados.style.display="block";
			paneltodoslosfallados.style.display="none";
			var losmensajesfinalizados=await obtenerlosmensajesfinalizados();
			var lasreunionesfinalizados=await obtenerlasreunionesfinalizados();
			var losrequerimientosfinalizados=await obtenerlosrequerimientosfinalizados();
			var casosfinalizados=0;
			while (todoslosfinalizadosmensajeriatbody.rows.length>0){
					let i=0;
					todoslosfinalizadosmensajeriatbody.rows[i].remove();
					i++;
				};
			while (reunionestodoslosfinalizadostbody.rows.length>0){
					let i=0;
					reunionestodoslosfinalizadostbody.rows[i].remove();
					i++;
				};
			while (requerimientostodoslosfinalizadostbody.rows.length>0){
					let i=0;
					requerimientostodoslosfinalizadostbody.rows[i].remove();
					i++;
				};
			let fila =0;
			let filareuniones =0;
			let filarequerimientos =0;
			losmensajesfinalizados.forEach((doc)=>{
				rendertodoslosfinalizadosmensajeriaenfila(doc);
				var span=todoslosfinalizadosmensajeriatbody.rows[fila].cells[1].firstElementChild;
				var span2=todoslosfinalizadosmensajeriatbody.rows[fila].cells[3].firstElementChild;
				var tdcontenido=todoslosfinalizadosmensajeriatbody.rows[fila].cells[1];
				var tdnombrearchivos=todoslosfinalizadosmensajeriatbody.rows[fila].cells[3];
				fila++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				casosfinalizados+=1;
				cantidaddecasosfinalizados.textContent=casosfinalizados+" casos.";});
			lasreunionesfinalizados.forEach((doc)=>{
				rendertodoslosfinalizadosreunionesenfila(doc);
				var span=reunionestodoslosfinalizadostbody.rows[filareuniones].cells[2].firstElementChild;
				var span2=reunionestodoslosfinalizadostbody.rows[filareuniones].cells[3].firstElementChild;
				var tdcontenido=reunionestodoslosfinalizadostbody.rows[filareuniones].cells[2];
				var tdnombrearchivos=reunionestodoslosfinalizadostbody.rows[filareuniones].cells[3];
				filareuniones++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				casosfinalizados+=1;
				cantidaddecasosfinalizados.textContent=casosfinalizados+" casos.";});
			losrequerimientosfinalizados.forEach((doc)=>{
				rendertodoslosfinalizadosrequerimientosenfila(doc);
				var span=requerimientostodoslosfinalizadostbody.rows[filarequerimientos].cells[3].firstElementChild;
				var tdcontenido=requerimientostodoslosfinalizadostbody.rows[filarequerimientos].cells[3];
				filarequerimientos++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				casosfinalizados+=1;
				cantidaddecasosfinalizados.textContent=casosfinalizados+" casos.";});
			}
	
		async function obtenerlosmensajesfinalizados(){
			var losmensajesfinalizados = await db.collectionGroup("mensajes").where("estado","==","finalizado").get();
			if (!losmensajesfinalizados.empty){return losmensajesfinalizados;}else{
					let nada=[];
					console.log("no hay mensajes");
					return nada;	
						}
		}
		async function obtenerlasreunionesfinalizados(){
		var lasreunionesfinalizados=await db.collectionGroup("reuniones").where("estado","==","finalizado").get();
				if (!lasreunionesfinalizados.empty){return lasreunionesfinalizados;}else{
					let nada=[];
					console.log("no hay reuniones");
					return nada;	
						}
		}
		async function obtenerlosrequerimientosfinalizados(){
			var losrequerimientosfinalizados=await db.collectionGroup("requerimientos").where("estado","==","finalizado").get();
				if (!losrequerimientosfinalizados.empty){return losrequerimientosfinalizados;}else{
					let nada=[];
					console.log("no hay requerimientos");
					return nada;	
						}
		}
	/*función admin, leer una línea de mensajeria en un doc y publica en todoslosfinalizados*/
		function rendertodoslosfinalizadosmensajeriaenfila(doc){
						let tr = document.createElement('tr');
						var todoslosfinalizadosmensajeriatbody =document.getElementById("todoslosfinalizadosmensajeriatbody");
						tr.setAttribute("class", "filatodoslosfinalizados");
						let tdfecha = document.createElement('td');
						let tdcontenido = document.createElement('td');
						let tdcantidadarchivos = document.createElement('td');
						let tdnombrearchivos = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fecha=doc.data().fechamensaje.toDate();
						tdcontenido.setAttribute("class","celdaarchivos");
						tdnombrearchivos.setAttribute("class","celdaarchivos");
						tdfecha.textContent=traducefecha(fecha);
						tdcontenido.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenido.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdcantidadarchivos.textContent=doc.data().cantidadarchivos;
						tdnombrearchivos.textContent="ver nombre de archivo(s)";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdnombrearchivos.appendChild(span2);
						span2.textContent=doc.data().detallearchivos;
						tr.appendChild(tdfecha);
						tr.appendChild(tdcontenido);
						tr.appendChild(tdcantidadarchivos);
						tr.appendChild(tdnombrearchivos);
						tr.appendChild(tdemail);
						todoslosfinalizadosmensajeriatbody.appendChild(tr);
		}
		/* leer una linea de la bd para la tabla de archivos en Reuniones en un doc y publica en todoslosfinalizados*/
		function rendertodoslosfinalizadosreunionesenfila(doc){
						let tr = document.createElement('tr');
						var reunionestodoslosfinalizadostbody =document.getElementById("reunionestodoslosfinalizadostbody");
						tr.setAttribute("class", "filatodoslosfinalizados");
						let tdfechasolicitud = document.createElement('td');
						let tdfechareunion = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdparticipantes = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdparticipantes.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fechareunion=doc.data().fecha;
						tdfechareunion.textContent=traducefechaform(fechareunion);
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdparticipantes.textContent="ver cantidad y correo de participantes";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdparticipantes.appendChild(span2);
						var correosseparados="";
						let i=0;
						const arreglodecorreos=doc.data().correoparticipantes.split(";");
						while (i<doc.data().cantidadparticipantes){
							correosseparados+=" "+arreglodecorreos[i];
							i++;
						}
						span2.textContent=doc.data().cantidadparticipantes+" participante(s) con el (o  los) siguiente(s) correo(s) electrónico(s): "+correosseparados;
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdfechareunion);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdparticipantes);
						tr.appendChild(tdemail);
						reunionestodoslosfinalizadostbody.appendChild(tr);		
			}
		/* leer una linea de la bd para la tabla de archivos en Requerimientos en un doc y publica en todoslosfinalizados*/
		function rendertodoslosfinalizadosrequerimientosenfila(doc){
						let tr = document.createElement('tr');
						var requerimientostodoslosfinalizadostbody =document.getElementById("requerimientostodoslosfinalizadostbody");
						tr.setAttribute("class", "filatodoslosfinalizados");
						let tdfechasolicitud = document.createElement('td');
						let tdtipoderequerimiento = document.createElement('td');
						let tdfecharequerimiento = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdcotizacion = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fecharequerimiento=doc.data().fecha;
						tdfecharequerimiento.textContent=traducefechaform(fecharequerimiento);
						tdtipoderequerimiento.textContent=doc.data().tipoderequerimiento;
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						/*acá se puede ver cotización*/
						if(doc.data().cotizacion){
							if (doc.data().cotizacionvalor>0){
								tdcotizacion.textContent="Cotización solicitada y valorada en: "+doc.data().cotizacionvalor+" "+doc.data().cotizacionmoneda;}else{
								tdcotizacion.textContent="Cotización solicitada y pendiente de valorar";
								}
						}else{
						tdcotizacion.textContent="Cotización no solicitada"
						}
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdtipoderequerimiento);
						tr.appendChild(tdfecharequerimiento);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdcotizacion);
						tr.appendChild(tdemail);
						requerimientostodoslosfinalizadostbody.appendChild(tr);		
			}
		
	
		var paneltodoslosfallados=$("paneltodoslosfallados");
		var botontodoslosfallados=$("botontodoslosfallados");
		paneltodoslosfallados.style.display="none";

	
	
		function muestratablatodoslosfalladosmensajes(){
			mensajeriatodoslosfalladostabla.style.display="block";
			reunionestodoslosfalladostabla.style.display="none";
			requerimientostodoslosfalladostabla.style.display="none";
			tabtodoslosfalladosmensajes.style.opacity=1;
			tabtodoslosfalladosreuniones.style.opacity=0.3;
			tabtodoslosfalladosrequerimientos.style.opacity=0.3;
			}		
		function muestratablatodoslosfalladosreuniones(){
			mensajeriatodoslosfalladostabla.style.display="none";
			reunionestodoslosfalladostabla.style.display="block";
			requerimientostodoslosfalladostabla.style.display="none";
			tabtodoslosfalladosmensajes.style.opacity=0.3;
			tabtodoslosfalladosreuniones.style.opacity=1;
			tabtodoslosfalladosrequerimientos.style.opacity=0.3;
			}
		function muestratablatodoslosfalladosrequerimientos(){
			mensajeriatodoslosfalladostabla.style.display="none";
			reunionestodoslosfalladostabla.style.display="none";
			requerimientostodoslosfalladostabla.style.display="block";
			tabtodoslosfalladosmensajes.style.opacity=0.3;
			tabtodoslosfalladosreuniones.style.opacity=0.3;
			tabtodoslosfalladosrequerimientos.style.opacity=1;
			}
	
		async function todoslosfallados(){
			paneltodoslosnuevosdatos.style.display="none";
			paneltodoslospendientes.style.display="none";
			paneltodoslosfinalizados.style.display="none";
			paneltodoslosfallados.style.display="block";
			var losmensajesfallados=await obtenerlosmensajesfallados();
			var lasreunionesfalladas=await obtenerlasreunionesfalladas();
			var losrequerimientosfallados=await obtenerlosrequerimientosfallados();
			var casosfallados=0;
			while (todoslosfalladosmensajeriatbody.rows.length>0){
					let i=0;
					todoslosfalladosmensajeriatbody.rows[i].remove();
					i++;
				};
			while (reunionestodoslosfalladostbody.rows.length>0){
					let i=0;
					reunionestodoslosfalladostbody.rows[i].remove();
					i++;
				};
			while (requerimientostodoslosfalladostbody.rows.length>0){
					let i=0;
					requerimientostodoslosfalladostbody.rows[i].remove();
					i++;
				};
			let fila =0;
			let filareuniones =0;
			let filarequerimientos =0;
			losmensajesfallados.forEach((doc)=>{
				rendertodoslosfalladosmensajeriaenfila(doc);
				var span=todoslosfalladosmensajeriatbody.rows[fila].cells[1].firstElementChild;
				var span2=todoslosfalladosmensajeriatbody.rows[fila].cells[3].firstElementChild;
				var tdcontenido=todoslosfalladosmensajeriatbody.rows[fila].cells[1];
				var tdnombrearchivos=todoslosfalladosmensajeriatbody.rows[fila].cells[3];
				fila++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				casosfallados+=1;
				cantidaddecasosfallados.textContent=casosfallados+" casos.";});
			lasreunionesfalladas.forEach((doc)=>{
				rendertodoslosfalladosreunionesenfila(doc);
				var span=reunionestodoslosfalladostbody.rows[filareuniones].cells[2].firstElementChild;
				var span2=reunionestodoslosfalladostbody.rows[filareuniones].cells[3].firstElementChild;
				var tdcontenido=reunionestodoslosfalladostbody.rows[filareuniones].cells[2];
				var tdnombrearchivos=reunionestodoslosfalladostbody.rows[filareuniones].cells[3];
				filareuniones++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				tdnombrearchivos.addEventListener('click',()=>{if (span2.style.display!="block"){muestraspan(span2);}else{escondespan(span2)};});
				casosfallados+=1;
				cantidaddecasosfallados.textContent=casosfallados+" casos.";});
			losrequerimientosfallados.forEach((doc)=>{
				rendertodoslosfalladosrequerimientosenfila(doc);
				var span=requerimientostodoslosfalladostbody.rows[filarequerimientos].cells[3].firstElementChild;
				var tdcontenido=requerimientostodoslosfalladostbody.rows[filarequerimientos].cells[3];
				filarequerimientos++;
				tdcontenido.addEventListener('click',()=>{if (span.style.display!="block"){muestraspan(span);}else{escondespan(span)};});
				casosfallados+=1;
				cantidaddecasosfallados.textContent=casosfallados+" casos.";});
			}
	/*función admin, leer una línea de mensajeria en un doc y publica en todoslosfallados*/
		function rendertodoslosfalladosmensajeriaenfila(doc){
						let tr = document.createElement('tr');
						var todoslosfalladosmensajeriatbody =document.getElementById("todoslosfalladosmensajeriatbody");
						tr.setAttribute("class", "filatodoslosfallados");
						let tdfecha = document.createElement('td');
						let tdcontenido = document.createElement('td');
						let tdcantidadarchivos = document.createElement('td');
						let tdnombrearchivos = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fecha=doc.data().fechamensaje.toDate();
						tdcontenido.setAttribute("class","celdaarchivos");
						tdnombrearchivos.setAttribute("class","celdaarchivos");
						tdfecha.textContent=traducefecha(fecha);
						tdcontenido.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenido.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdcantidadarchivos.textContent=doc.data().cantidadarchivos;
						tdnombrearchivos.textContent="ver nombre de archivo(s)";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdnombrearchivos.appendChild(span2);
						span2.textContent=doc.data().detallearchivos;
						tr.appendChild(tdfecha);
						tr.appendChild(tdcontenido);
						tr.appendChild(tdcantidadarchivos);
						tr.appendChild(tdnombrearchivos);
						tr.appendChild(tdemail);
						todoslosfalladosmensajeriatbody.appendChild(tr);
		}
		/* leer una linea de la bd para la tabla de archivos en Reuniones en un doc y publica en todoslosfallados*/
		function rendertodoslosfalladosreunionesenfila(doc){
						let tr = document.createElement('tr');
						var reunionestodoslosfalladostbody =document.getElementById("reunionestodoslosfalladostbody");
						tr.setAttribute("class", "filatodoslosfallados");
						let tdfechasolicitud = document.createElement('td');
						let tdfechareunion = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdparticipantes = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdparticipantes.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fechareunion=doc.data().fecha;
						tdfechareunion.textContent=traducefechaform(fechareunion);
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						tdparticipantes.textContent="ver cantidad y correo de participantes";
						let span2 = document.createElement('span');
						span2.setAttribute("class","spanceldamensaje");
						tdparticipantes.appendChild(span2);
						var correosseparados="";
						let i=0;
						const arreglodecorreos=doc.data().correoparticipantes.split(";");
						while (i<doc.data().cantidadparticipantes){
							correosseparados+=" "+arreglodecorreos[i];
							i++;
						}
						span2.textContent=doc.data().cantidadparticipantes+" participante(s) con el (o  los) siguiente(s) correo(s) electrónico(s): "+correosseparados;
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdfechareunion);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdparticipantes);
						tr.appendChild(tdemail);
						reunionestodoslosfalladostbody.appendChild(tr);		
			}
		/* leer una linea de la bd para la tabla de archivos en Requerimientos en un doc y publica en todoslosfallados*/
		function rendertodoslosfalladosrequerimientosenfila(doc){
						let tr = document.createElement('tr');
						var requerimientostodoslosfalladostbody =document.getElementById("requerimientostodoslosfalladostbody");
						tr.setAttribute("class", "filatodoslosfallados");
						let tdfechasolicitud = document.createElement('td');
						let tdtipoderequerimiento = document.createElement('td');
						let tdfecharequerimiento = document.createElement('td');
						let tdcontenidomensaje = document.createElement('td');
						let tdcotizacion = document.createElement('td');
						let tdemail = document.createElement('td');
						tdemail.textContent=doc.data().emailusuario;
						var fechasolicitud=doc.data().fechadesolicitud.toDate();
						tdcontenidomensaje.setAttribute("class","celdaarchivos");
						tdfechasolicitud.textContent=traducefecha(fechasolicitud);
						var fecharequerimiento=doc.data().fecha;
						tdfecharequerimiento.textContent=traducefechaform(fecharequerimiento);
						tdtipoderequerimiento.textContent=doc.data().tipoderequerimiento;
						tdcontenidomensaje.textContent="ver mensaje";
						let span = document.createElement('span');
						span.setAttribute("class","spanceldamensaje");
						tdcontenidomensaje.appendChild(span);
						span.textContent=doc.data().mensaje;
						/*acá se puede ver cotización*/
						if(doc.data().cotizacion){
							if (doc.data().cotizacionvalor>0){
								tdcotizacion.textContent="Cotización solicitada y valorada en: "+doc.data().cotizacionvalor+" "+doc.data().cotizacionmoneda;}else{
								tdcotizacion.textContent="Cotización solicitada y pendiente de valorar";
								}
						}else{
						tdcotizacion.textContent="Cotización no solicitada"
						}
						tr.appendChild(tdfechasolicitud);
						tr.appendChild(tdtipoderequerimiento);
						tr.appendChild(tdfecharequerimiento);
						tr.appendChild(tdcontenidomensaje);
						tr.appendChild(tdcotizacion);
						tr.appendChild(tdemail);
						requerimientostodoslosfalladostbody.appendChild(tr);		
			}
		
		async function obtenerlosmensajesfallados(){
			var losmensajesfallados = await db.collectionGroup("mensajes").where("estado","==","fallado").get();
			if (!losmensajesfallados.empty){return losmensajesfallados;}else{
					let nada=[];
					console.log("no hay mensajes");
					return nada;	
						}
		}
		async function obtenerlasreunionesfalladas(){
		var lasreunionesfalladas=await db.collectionGroup("reuniones").where("estado","==","fallado").get();
			if (!lasreunionesfalladas.empty){return lasreunionesfalladas;}else{
					let nada=[];
					console.log("no hay reuniones");
					return nada;	
						}
		}
		async function obtenerlosrequerimientosfallados(){
			var losrequerimientosfallados=await db.collectionGroup("requerimientos").where("estado","==","fallado").get();
			if (!losrequerimientosfallados.empty){return losrequerimientosfallados;}else{
					let nada=[];
					console.log("no hay requerimientos");
					return nada;	
						}
		}

	
	
	</script>
</body>
	
</html>
